<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Identify encounters with disability — disability • Rgemini</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Identify encounters with disability — disability"><meta name="description" content="This function identifies whether or not an encounter had any ICD-10-CA
diagnosis code(s) indicating a physical, sensory, or intellectual/
developmental disability as defined by
Brown et al., 2021.
Broadly, this includes any diagnosis codes for conditions that are likely to
result in functional limitations and are considered to be chronic (see
Supplemental eTable 2 in Brown et al., 2021
for a full list of diagnosis codes). However, note that this function only
searches for relevant diagnosis codes at the encounter level and does not
check whether chronic conditions are coded consistently across different
encounters for a given patient.
By setting component_wise to TRUE, users can choose to return all
identified diagnosis codes for encounters with a disability, together with
the disability category each code was matched with (e.g., physical/sensory/
developmental disability - see below)."><meta property="og:description" content="This function identifies whether or not an encounter had any ICD-10-CA
diagnosis code(s) indicating a physical, sensory, or intellectual/
developmental disability as defined by
Brown et al., 2021.
Broadly, this includes any diagnosis codes for conditions that are likely to
result in functional limitations and are considered to be chronic (see
Supplemental eTable 2 in Brown et al., 2021
for a full list of diagnosis codes). However, note that this function only
searches for relevant diagnosis codes at the encounter level and does not
check whether chronic conditions are coded consistently across different
encounters for a given patient.
By setting component_wise to TRUE, users can choose to return all
identified diagnosis codes for encounters with a disability, together with
the disability category each code was matched with (e.g., physical/sensory/
developmental disability - see below)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Rgemini</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cell_suppression_and_table1.html">Cell Suppression and Table 1</a></li>
    <li><a class="dropdown-item" href="../articles/daily_census.html">Daily Census</a></li>
    <li><a class="dropdown-item" href="../articles/epicare_and_readmission.html">Episodes of care and Readmission</a></li>
    <li><a class="dropdown-item" href="../articles/icd_to_ccsr.html">ICD to CCSR</a></li>
    <li><a class="dropdown-item" href="../articles/plotting_data_exploration.html">Plotting Functions - Easy Plots for Data Exploration</a></li>
    <li><a class="dropdown-item" href="../articles/plotting_theme.html">Plotting Functions - Themes &amp; Colors</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Identify encounters with disability</h1>

      <div class="d-none name"><code>disability.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function identifies whether or not an encounter had any ICD-10-CA
diagnosis code(s) indicating a physical, sensory, or intellectual/
developmental disability as defined by
<a href="https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2776018" class="external-link">Brown et al., 2021</a>.</p>
<p>Broadly, this includes any diagnosis codes for conditions that are likely to
result in functional limitations and are considered to be chronic (see
Supplemental eTable 2 in <a href="https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2776018" class="external-link">Brown et al., 2021</a>
for a full list of diagnosis codes). However, note that this function only
searches for relevant diagnosis codes at the encounter level and does not
check whether chronic conditions are coded consistently across different
encounters for a given patient.</p>
<p>By setting <code>component_wise</code> to <code>TRUE</code>, users can choose to return all
identified diagnosis codes for encounters with a disability, together with
the disability category each code was matched with (e.g., physical/sensory/
developmental disability - see below).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">disability</span><span class="op">(</span><span class="va">cohort</span>, <span class="va">ipdiag</span>, <span class="va">erdiag</span>, component_wise <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cohort">cohort<a class="anchor" aria-label="anchor" href="#arg-cohort"></a></dt>
<dd><p>(<code>data.frame</code> or <code>data.table</code>)
Cohort table with all relevant encounters of interest, where each row
corresponds to a single encounter. Must contain GEMINI Encounter ID
(<code>genc_id</code>).</p></dd>


<dt id="arg-ipdiag">ipdiag<a class="anchor" aria-label="anchor" href="#arg-ipdiag"></a></dt>
<dd><p>(<code>data.table</code>)
<code>ipdiagnosis</code> table as defined in the <a href="https://drive.google.com/uc?export=download&amp;id=1iwrTz1YVz4GBPtaaS9tJtU0E9Bx1QSM5" class="external-link">GEMINI Data Repository Dictionary</a>.
This table must contain <code>genc_id</code> and <code>diagnosis_code</code> (as ICD-10-CA
alphanumeric code) in long format.</p></dd>


<dt id="arg-erdiag">erdiag<a class="anchor" aria-label="anchor" href="#arg-erdiag"></a></dt>
<dd><p>(<code>data.table</code>)
<code>erdiagnosis</code> table as defined in the <a href="https://drive.google.com/uc?export=download&amp;id=1iwrTz1YVz4GBPtaaS9tJtU0E9Bx1QSM5" class="external-link">GEMINI Data Repository Dictionary</a>.
This table must contain <code>genc_id</code> and <code>er_diagnosis_code</code> (as ICD-10-CA
alphanumeric code) in long format.
Typically, ER diagnoses should be included when deriving disability in order
to increase sensitivity. However, in certain scenarios, users may choose to
only include IP diagnoses by specifying <code>erdiag = NULL</code>. This may be useful
when comparing cohorts with different rates of ER admissions.</p></dd>


<dt id="arg-component-wise">component_wise<a class="anchor" aria-label="anchor" href="#arg-component-wise"></a></dt>
<dd><p>(<code>logical</code>)
If <code>component_wise == FALSE</code> (default), the function calculates a single
(global) disability flag indicating whether each <code>genc_id</code> was diagnosed with
<em>any</em> disability.</p>
<p>If <code>component_wise == TRUE</code>, for each <code>genc_id</code> with a disability,
all identified disability diagnosis codes are returned, together with one of
the following 7 disability categories:</p><ul><li><p>Physical disability - Congenital Anomalies</p></li>
<li><p>Physical disability - Musculoskeletal disorders</p></li>
<li><p>Physical disability - Neurological disorders</p></li>
<li><p>Physical disability - Permanent Injuries</p></li>
<li><p>Sensory disabilities - Hearing impairments</p></li>
<li><p>Sensory disabilities - Vision impairments</p></li>
<li><p>Developmental Disabilities</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>data.table</code>
If <code>component_wise == FALSE</code>, returns a table with all encounters identified
by the <code>cohort</code> table input and an additional derived field <code>disability</code>
(<code>logical</code>) indicating whether any diagnosis code for a disability was
identified. If a <code>genc_id</code> does not have any entry in the diagnosis table at
all, <code>disability = NA</code>. Note that this is very rare: If no additional
filtering was performed, &gt;99.9% of <code>genc_ids</code> should have an entry in the
<code>ipdiagnosis</code> (and &gt;99.9% of <code>genc_ids</code> that were admitted via ER should have
an entry in the <code>erdiagnosis</code> table).</p>
<p>If <code>component_wise == TRUE</code>, will only return <code>genc_ids</code> with a disability.
The output is returned in long format, where each row corresponds to a
disability diagnosis (<code>diagnosis_code</code>) and its corresponding
<code>disability_category</code> (<code>character</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a></h2>


<p>This function does not differentiate between diagnosis types. That is, the
disability flags are derived based on all diagnosis codes that are provided
as input to this function. By default, users should include all diagnosis
types to identify disabilities. However, if users wish to include only
certain diagnosis types (e.g., type-M for most responsible discharge
diagnosis), the <code>ipdiag</code> and <code>erdiag</code> input tables should be filtered
accordingly based on <code>diagnosis_type</code> <em>prior to running this function</em> (for
more details, see <a href="https://www.cihi.ca/sites/default/files/document/diagnosis-type-definitions-en.pdf" class="external-link">CIHI diagnosis type definitions</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Brown HK, et al. JAMA Netw Open, 2021. https://doi.org/10.1001/jamanetworkopen.2020.34993</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">drv</span> <span class="op">&lt;-</span> <span class="fu">dbDriver</span><span class="op">(</span><span class="st">"PostgreSQL"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dbcon</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="va">drv</span>,</span></span>
<span class="r-in"><span>  dbname <span class="op">=</span> <span class="st">"db"</span>,</span></span>
<span class="r-in"><span>  host <span class="op">=</span> <span class="st">"domain_name.ca"</span>,</span></span>
<span class="r-in"><span>  port <span class="op">=</span> <span class="fl">1234</span>,</span></span>
<span class="r-in"><span>  user <span class="op">=</span> <span class="fu">getPass</span><span class="op">(</span><span class="st">"Enter user:"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  password <span class="op">=</span> <span class="fu">getPass</span><span class="op">(</span><span class="st">"password"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ipadmdad</span> <span class="op">&lt;-</span> <span class="fu">dbGetQuery</span><span class="op">(</span><span class="va">dbcon</span>, <span class="st">"select * from admdad"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">data.table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ipdiagnosis</span> <span class="op">&lt;-</span> <span class="fu">dbGetQuery</span><span class="op">(</span><span class="va">dbcon</span>, <span class="st">"select * from ipdiagnosis"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">data.table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">erdiagnosis</span> <span class="op">&lt;-</span> <span class="fu">dbGetQuery</span><span class="op">(</span><span class="va">db</span>, <span class="st">"select * from erdiagnosis"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">data.table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># including ER diagnosis codes</span></span></span>
<span class="r-in"><span><span class="fu">disability</span><span class="op">(</span>cohort <span class="op">=</span> <span class="va">ipadmdad</span>, ipdiag <span class="op">=</span> <span class="va">ipdiagnosis</span>, erdiag <span class="op">=</span> <span class="va">erdiagnosis</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># not including ER diagnosis codes</span></span></span>
<span class="r-in"><span><span class="fu">disability</span><span class="op">(</span>cohort <span class="op">=</span> <span class="va">ipadmdad</span>, ipdiag <span class="op">=</span> <span class="va">ipdiagnosis</span>, erdiag <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># returning component-wise disability categories</span></span></span>
<span class="r-in"><span><span class="fu">disability</span><span class="op">(</span><span class="va">ipadmdad</span>, <span class="va">ipdiagnosis</span>, <span class="va">erdiagnosis</span>, component_wise <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by GEMINIdata.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

