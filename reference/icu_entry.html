<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute entry to Intensive Care Unit — icu_entry • Rgemini</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute entry to Intensive Care Unit — icu_entry"><meta name="description" content="Determines whether an encounter has entered Intensive Care Unit (ICU) during
hospital stay using CIHI Discharge Abstract Database (DAD) fields."><meta property="og:description" content="Determines whether an encounter has entered Intensive Care Unit (ICU) during
hospital stay using CIHI Discharge Abstract Database (DAD) fields."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Rgemini</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cell_suppression_and_table1.html">Cell Suppression and Table 1</a></li>
    <li><a class="dropdown-item" href="../articles/daily_census.html">Daily Census</a></li>
    <li><a class="dropdown-item" href="../articles/epicare_and_readmission.html">Episodes of care and Readmission</a></li>
    <li><a class="dropdown-item" href="../articles/icd_to_ccsr.html">ICD to CCSR</a></li>
    <li><a class="dropdown-item" href="../articles/plotting_data_exploration.html">Plotting Functions - Easy Plots for Data Exploration</a></li>
    <li><a class="dropdown-item" href="../articles/plotting_theme.html">Plotting Functions - Themes &amp; Colors</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute entry to Intensive Care Unit</h1>

      <div class="d-none name"><code>icu_entry.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Determines whether an encounter has entered Intensive Care Unit (ICU) during
hospital stay using CIHI Discharge Abstract Database (DAD) fields.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">icu_entry</span><span class="op">(</span></span>
<span>  <span class="va">cohort</span>,</span>
<span>  <span class="va">ipscu</span>,</span>
<span>  as_outcome <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  exclude_cutoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  entry_since_cutoff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">48</span>, <span class="fl">72</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cohort">cohort<a class="anchor" aria-label="anchor" href="#arg-cohort"></a></dt>
<dd><p>(<code>data.table</code>, <code>data.frame</code>)<br>
Cohort table with all relevant encounters of interest, where each row corresponds to
a single encounter. Must contain the following columns:</p><ul><li><p><code>genc_id</code> (<code>integer</code>): GEMINI encounter ID</p></li>
<li><p><code>admission_date_time</code> (<code>character</code>): Date-time of admission in YYYY-MM-DD HH:MM format</p></li>
</ul></dd>


<dt id="arg-ipscu">ipscu<a class="anchor" aria-label="anchor" href="#arg-ipscu"></a></dt>
<dd><p>(<code>data.table</code>, <code>data.frame</code>)<br>
Table equivalent to the <code>ipscu</code> table defined in the
<a href="https://drive.google.com/uc?export=download&amp;id=1iwrTz1YVz4GBPtaaS9tJtU0E9Bx1QSM5" class="external-link">GEMINI Data Repository Dictionary</a>.
Table must contain fields:
GEMINI Encounter ID (<code>genc_id</code>), SCU admission time (<code>scu_admit_date_time</code>), and SCU number (<code>scu_unit_number</code>).</p></dd>


<dt id="arg-as-outcome">as_outcome<a class="anchor" aria-label="anchor" href="#arg-as-outcome"></a></dt>
<dd><p>(<code>logical</code>)<br>
Whether ICU admission is as a clinical outcome or not. Default to FALSE.
When set to TRUE, records with direct ICU admission before admitted to inpatient care (IP admission)
(i.e. <code>scu_admit_date_time</code> &lt;= <code>admission_date_time</code>) are excluded.</p></dd>


<dt id="arg-exclude-cutoff">exclude_cutoff<a class="anchor" aria-label="anchor" href="#arg-exclude-cutoff"></a></dt>
<dd><p>(<code>integer</code>)<br>
The number of hours to add to the IP admission time to establish a cutoff time for excluding records from being identified as ICU admissions.
This parameter is only relevant when <code>as_outcome=TRUE</code>.
For example, when <code>exclude_cutoff = 12</code>, records with ICU entry time <code>scu_admit_date_time</code> &lt;= <code>admission_date_time + 12 hours</code>
are excluded from being identified as ICU admissions.
Default is exclude_cutoff = 0, where any ICU entries before IP admission time are excluded.</p></dd>


<dt id="arg-entry-since-cutoff">entry_since_cutoff<a class="anchor" aria-label="anchor" href="#arg-entry-since-cutoff"></a></dt>
<dd><p>(<code>integer</code>, <code>vector</code>)<br>
Time window of ICU entry since IP admission (or since x hours post IP admission when user specifies <code>exclude_cutoff</code>), in hours.
This parameter, together with <code>exclude_cutoff</code> specifies the time interval during which ICU admissions are identified.
By default, <code>exclude_cutoff = 0</code> and <code>entry_since_cutoff = c(24, 48, 72)</code>, function calculates ICU entry within 24, 48 and 72 hours since IP admission.
Users can specify different values for the two parameters to customize the time interval of interest.
For example, when <code>exclude_cutoff = 24</code> and <code>entry_since_cutoff = 48</code>, function determines whether a patient
was admitted to ICU between 24 to 72 (24+48) hours post IP admission (i.e. time interval (24, 72] hours)).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>(<code>data.table</code>)<br>
By default, for each encounter in input "cohort" returns the corresponding derived boolean (TRUE/FALSE) fields
"icu_entry_derived", "icu_entry_in_24hr_derived", "icu_entry_in_48hr_derived" and "icu_entry_in_72hr_derived".
If user specified time window x hour is used, field "icu_entry_in_xhr_derived" is computed in addition to "icu_entry_derived".</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function uses DAD fields Admission date-time (Group 04 Fields 01/02),
and SCU Admit date-time (Group 13, Field 03/04) to derive boolean fields
indicating ICU entries at any time during hospital stay,
and within specified time window since hospital admission.</p>
<p>By definition in DAD (Group 13, Field 02), SCUs include ICUs and Step-Down Units.
Step-Down Units are not considered as ICUs.</p>
<p>Therefore, this function excludes below CIHI defined Step-Down Units numbers
from calculation:</p><ul><li><p>90 : Step-Down Medical Unit</p></li>
<li><p>93 : Combined Medical/Surgical Step-Down Unit</p></li>
<li><p>95 : Step-Down Surgical Unit</p></li>
<li><p>99 : No SCU</p></li>
</ul><p>Please refer to the CIHI DAD abstracting manual for more details.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>:
By design, this function will not return any NA values for <code>icu_entry</code>, unless the flag is time sensitive
(i.e., if <code>as_outcome</code> is <code>TRUE</code>, or when deriving ICU admission within a certain time window/after a cut-off).
For time sensitive flags, any genc_ids with an ICU entry but <em>no</em> valid ICU admission date-time will be returned as NA.
If a genc_id has <em>at least one</em> valid ICU admission date-time, all valid entries will be included in the calculation.
Note that a lot of invalid ICU admission date-times contain date information only. Users may choose to impute
missing timestamps prior to running this function.</p>
<p>When one tries to left-join the output of this function to another table,
make sure the list of encounters aligns in both tables.
As there are 2 dependent parameters (exclude_cutoff, entry_since_cutoff)
determining the time interval during which ICU admissions will be identified,
please read function documentation carefully when specifying a non-default value to these parameters
to ensure the identification time interval is as intented. See examples below for common use cases.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## ICU admission within the first 24 hours since IP admission (i.e. you are interested in knowing % of encounters admitted to ICU):</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="fu">icu_entry</span> <span class="op">(</span><span class="va">cohort</span>, <span class="va">ipscu</span>, as_outcome<span class="op">=</span><span class="cn">FALSE</span>, entry_since_cutoff<span class="op">=</span><span class="fl">24</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ICU admission within the first 24 hours since IP admission, as a clinical outcome</span></span></span>
<span class="r-in"><span><span class="co">## excluding records with ICU entries prior to IP admission:</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="fu">icu_entry</span> <span class="op">(</span><span class="va">cohort</span>, <span class="va">ipscu</span>, as_outcome<span class="op">=</span><span class="cn">TRUE</span>, entry_since_cutoff<span class="op">=</span><span class="fl">24</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ICU admission within the first 72 hours since IP admission, as a clinical outcome</span></span></span>
<span class="r-in"><span><span class="co">## excluding records with ICU entries prior to the first 24 hours of IP admission (i.e. you are interested in knowing</span></span></span>
<span class="r-in"><span><span class="co">## patients who were admitted to ICU between the interval of (24, 72] hours since IP admission):</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="fu">icu_entry</span> <span class="op">(</span><span class="va">cohort</span>, <span class="va">ipscu</span>, as_outcome<span class="op">=</span><span class="cn">TRUE</span>, exclude_cutoff<span class="op">=</span><span class="fl">24</span>, entry_since_cutoff<span class="op">=</span><span class="fl">48</span><span class="op">)</span> <span class="co"># Note: entry_since_cutoff=48 (instead of 72) because 24+48=72</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by GEMINIdata.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

