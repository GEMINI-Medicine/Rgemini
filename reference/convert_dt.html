<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='This function converts date-time variables into a user-specified format.
convert_dt is called by other Rgemini functions to make sure that
any date-time inputs are in the expected order (typically "ymd HM"). It
can also be used independently of other Rgemini functions to clean up
date-times for analyses.
The function additionally returns warning messages about missing/invalid
date-time entries that can be useful for debugging.'><title>Convert date-time variables into POSIXct/POSIXt format. — convert_dt • Rgemini</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert date-time variables into POSIXct/POSIXt format. — convert_dt"><meta property="og:description" content='This function converts date-time variables into a user-specified format.
convert_dt is called by other Rgemini functions to make sure that
any date-time inputs are in the expected order (typically "ymd HM"). It
can also be used independently of other Rgemini functions to clean up
date-times for analyses.
The function additionally returns warning messages about missing/invalid
date-time entries that can be useful for debugging.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Rgemini</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cell_suppression_and_table1.html">Cell Suppression and Table 1</a>
    <a class="dropdown-item" href="../articles/daily_census.html">Daily Census</a>
    <a class="dropdown-item" href="../articles/epicare_and_readmission.html">Episodes of care and Readmission</a>
    <a class="dropdown-item" href="../articles/icd_to_ccsr.html">ICD to CCSR</a>
    <a class="dropdown-item" href="../articles/plotting_data_exploration.html">Plotting Functions - Easy Plots for Data Exploration</a>
    <a class="dropdown-item" href="../articles/plotting_theme.html">Plotting Functions - Themes &amp; Colors</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Convert date-time variables into POSIXct/POSIXt format.</h1>
      
      <div class="d-none name"><code>convert_dt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function converts date-time variables into a user-specified format.
<code>convert_dt</code> is called by other <code>Rgemini</code> functions to make sure that
any date-time inputs are in the expected order (typically <code>"ymd HM"</code>). It
can also be used independently of other <code>Rgemini</code> functions to clean up
date-times for analyses.
The function additionally returns warning messages about missing/invalid
date-time entries that can be useful for debugging.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">convert_dt</span><span class="op">(</span></span>
<span>  <span class="va">dt_var</span>,</span>
<span>  orders <span class="op">=</span> <span class="st">"ymd HM"</span>,</span>
<span>  check_ts_zeros <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dt_varname <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addtl_msg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dt_var</dt>
<dd><p><br>
A vector containing the date-time values to be converted to the specified
format. The vector can be of any class that can be converted to date-times by
<code><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">lubridate::parse_date_time()</a></code> (usually "character" or "POSIXct"). If
users have already pre-processed date-time variables into POSIXct (e.g.,
using <code><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">lubridate::ymd_hm()</a></code>) prior to running the function,
<code>convert_dt()</code> will simply return the original <code>dt_var</code>.</p></dd>


<dt>orders</dt>
<dd><p>(<code>character</code>)<br>
Order(s) to be used to parse <code>dt_var</code>, such as <code>"ymd HM"</code> (default),
<code>"ymd HMS"</code>, <code>"ymd"</code> etc. Will be passed to <code><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">lubridate::parse_date_time()</a></code>,
which accepts date-time formats without expecting "%" prefix (see <code>orders</code>
input argument in <a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">parse_date_time</a>.</p>
<p>Multiple acceptable formats can be specified by providing a character vector,
e.g. <code>format = c("ymd HM", "ymd HMS", "ymd")</code>.</p>
<p>If expecting a date format in "ymd" (regardless of whether timestamp exists
or not), use <code>convert_dt(dt_var, orders = "ymdHMS", truncated = 3)</code>.</p></dd>


<dt>check_ts_zeros</dt>
<dd><p>(<code>logical</code>)<br>
Whether to check for timestamps "00:00", which may represent missing times
for some variables. This is only user species any <code>orders</code> containing time
information, e.g., <code>orders = c("ymd HM", "ymd HMS")</code>.</p></dd>


<dt>dt_varname</dt>
<dd><p>(<code>character</code>)<br>
Name of variable referring to user-provided date-time variable. This is only
used for warning messages to improve clarity. Usually, <code>dt_varname</code> can be
inferred directly based on the provided input, but in some cases where
inputs are passed between multiple functions, it can be helpful to specify
the variable name explicitly (for example, see <code><a href="stat_holidays_ON.html">stat_holidays_ON()</a></code>.</p></dd>


<dt>addtl_msg</dt>
<dd><p>(<code>character</code>)<br>
Additional warning message to be shown if any missing/invalid date-time
entries were found. If <code>addtl_msg = NULL</code>, the following message will be
shown by default:
"Please carefully consider how to deal with missing/invalid date-time entries
and perform any additional pre-processing prior to running the function
[function_name] (e.g., impute missing dates/timestamps etc.)."</p></dd>


<dt>...</dt>
<dd><p>Additional parameters passed to <code><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">lubridate::parse_date_time()</a></code>, such as
<code>truncated</code> , <code>exact</code>, etc.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>(<code>POSIXct</code> | <code>POSIXt</code>)<br></p>


<p>Returns converted <code>dt_var</code> parsed according to specified date-time <code>orders</code>.</p>


<p>Will also return the following warning messages (if applicable):</p><ol><li><p>Number (%) of entries in <code>dt_var</code> that are missing (NA, "", " ")</p></li>
<li><p>Number (%) of entries in <code>dt_var</code> that could not be parsed into specified
format</p></li>
<li><p>For formats containing (non-optional) timestamps: Number (%) of entries in
<code>dt_var</code> that only contain date information</p></li>
</ol><p>Any missing/invalid date-time entries will be returned as <code>NA</code> by this
function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">my_date_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2020-01-01 12:00"</span>, <span class="st">"2021-03-06 09:25"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">convert_dt</span><span class="op">(</span><span class="va">my_date_time</span>, orders <span class="op">=</span> <span class="st">"ymd HM"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2020-01-01 12:00:00 UTC" "2021-03-06 09:25:00 UTC"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by GEMINIdata.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

