<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Rgemini">
<title>Cell Suppression and Table 1 • Rgemini</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cell Suppression and Table 1">
<meta property="og:description" content="Rgemini">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Rgemini</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cell_suppression_and_table1.html">Cell Suppression and Table 1</a>
    <a class="dropdown-item" href="../articles/daily_census.html">Daily Census</a>
    <a class="dropdown-item" href="../articles/epicare_and_readmission.html">Episodes of care and Readmission</a>
    <a class="dropdown-item" href="../articles/icd_to_ccsr.html">ICD to CCSR</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<link href="cell_suppression_and_table1_files/table1-1.0/table1_defaults.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Cell Suppression and Table 1</h1>
            
      
      
      <div class="d-none name"><code>cell_suppression_and_table1.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Cell suppression is a technique to withhold or “suppress”
confidential or identifying data in tabular formats.</p>
<p>It is common practice in clinical and epidemiological research to
present a table of baseline patient characteristics in the study
population. This is commonly referred to as <strong>Table
1</strong>.</p>
<p>In order to preserve patient privacy and reduce the risk of
re-identification, GEMINI employs a cell suppression strategy for any
Table 1 that is published or shared externally.</p>
<p><strong>The general rule is to hide any subgroup with fewer than 6
patients (&lt;= 5)</strong>. There are some special cases which will be
discussed in detail below.</p>
<p>Note that there exists a variety of methods to produce a Table 1.
Below are some examples:</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/table1/vignettes/table1-examples.html" class="external-link"><code>table1</code>
by Benjamin Rich</a></li>
<li><a href="https://cran.r-project.org/web/packages/tableone/vignettes/introduction.html" class="external-link"><code>tableone</code>
by Kazuki Yoshida</a></li>
</ul>
<p>Both packages provide their own functionality, but neither implement
cell suppression. Due to the design of <code>table1</code>, it was
chosen as a candidate for this added functionality, implemented in
various functions described below.</p>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<div class="section level3">
<h3 id="dummy-data">Dummy data<a class="anchor" aria-label="anchor" href="#dummy-data"></a>
</h3>
<p>For this vignette, we will create a dummy dataset to summarize:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gender</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">95</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, times <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">exposure</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pre-pandemic"</span>, <span class="st">"pandemic"</span>, <span class="st">"post-pandemic"</span><span class="op">)</span>, </span>
<span>  size <span class="op">=</span> <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">70</span>, sd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="va">condition</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DVT"</span>, <span class="st">"CVD"</span>, <span class="st">"DM"</span>, <span class="st">"Pneumonia"</span>, <span class="st">"Dementia"</span><span class="op">)</span>, </span>
<span>  size <span class="op">=</span> <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.20</span>, <span class="fl">0.4</span>, <span class="fl">0.35</span>, <span class="fl">0.05</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>gender <span class="op">=</span> <span class="va">gender</span>, exposure <span class="op">=</span> <span class="va">exposure</span>, age <span class="op">=</span> <span class="va">age</span>, condition <span class="op">=</span> <span class="va">condition</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-table1">Using <code>table1</code><a class="anchor" aria-label="anchor" href="#using-table1"></a>
</h3>
<p>Although the vignette linked above provides an in-depth exploration
of all <code>table1</code> functionality, we will review the function
with a very simple example below. We summarize all available patient
characteristics, stratifying by the exposure variable:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/benjaminrich/table1" class="external-link">table1</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span><span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (58.8%)</td>
<td>15 (51.7%)</td>
<td>18 (48.6%)</td>
<td>53 (53.0%)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35.3%)</td>
<td>12 (41.4%)</td>
<td>18 (48.6%)</td>
<td>42 (42.0%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">5 (5.0%)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
<td>69.8 (5.68)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
<td class="lastrow">70.2 [58.0, 83.4]</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>5 (14.7%)</td>
<td>7 (24.1%)</td>
<td>7 (18.9%)</td>
<td>19 (19.0%)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>2 (5.9%)</td>
<td>2 (6.9%)</td>
<td>0 (0%)</td>
<td>4 (4.0%)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44.1%)</td>
<td>7 (24.1%)</td>
<td>15 (40.5%)</td>
<td>37 (37.0%)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35.3%)</td>
<td>11 (37.9%)</td>
<td>14 (37.8%)</td>
<td>37 (37.0%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">3 (3.0%)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>Note that patients with particular conditions can be easily
identified, sometimes to the precision of the exact patient (such as the
patient with DVT pre-pandemic). The goal of this vignette is to show how
to protect these patients’ privacy.</p>
</div>
</div>
<div class="section level2">
<h2 class="tabset" id="cell-suppression">Cell suppression<a class="anchor" aria-label="anchor" href="#cell-suppression"></a>
</h2>
<div class="section level3">
<h3 id="default">Default<a class="anchor" aria-label="anchor" href="#default"></a>
</h3>
<p>In order to perform cell suppression with <code><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1()</a></code>,
<em>Rgemini</em> exports
<code><a href="../reference/render_cell_suppression.default.html">render_cell_suppression.default()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gemini-medicine.github.io/Rgemini/">Rgemini</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render <span class="op">=</span> <span class="va">render_cell_suppression.default</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (59 %)</td>
<td>15 (52 %)</td>
<td>18 (49 %)</td>
<td>53 (53 %)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35 %)</td>
<td>12 (41 %)</td>
<td>18 (49 %)</td>
<td>42 (42 %)</td>
</tr>
<tr>
<td class="rowlabel"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">69.527 (± 5.527)</td>
<td class="lastrow">69.723 (± 5.695)</td>
<td class="lastrow">70.220 (± 5.929)</td>
<td class="lastrow">69.840 (± 5.677)</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>(suppressed)</td>
<td>7 (24 %)</td>
<td>(suppressed)</td>
<td>19 (19 %)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>0 (0 %)</td>
<td>(suppressed)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44 %)</td>
<td>(suppressed)</td>
<td>15 (41 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35 %)</td>
<td>11 (38 %)</td>
<td>14 (38 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0 %)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>Important conceptual notes:</p>
<ol style="list-style-type: decimal">
<li><strong>True zeros are not suppressed.</strong></li>
</ol>
<p>True zeros risk identifying no patient, and therefore we do not hide
valuable information that does not bring with it the risk of
re-identification.</p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Cells that originally had 6 or more patients are also
suppressed.</strong></li>
</ol>
<p>Consider the group of patients in the post-pandemic subgroup. Note
that patients with CVD post-pandemic were suppressed even though there
were originally seven patients in that subgroup. Why is that? Had we
only suppressed patients with DVT (one patient), knowing the total
number of patients post-pandemic (37), we could have reverse-calculated
the number of patients with DVT (with reasonable precision).</p>
<p>Therefore the algorithm is designed to continue suppressing
successively larger groups until the total number of suppressed patients
is six or more, such that they cannot be reverse-calculated with
reasonable precision. The default option shows the desired behaviour and
the most conservative with respect to patient privacy.</p>
</div>
<div class="section level3">
<h3 id="customizing-output-for-continuous-variables---change-to-medians">Customizing output for continuous variables - change to medians<a class="anchor" aria-label="anchor" href="#customizing-output-for-continuous-variables---change-to-medians"></a>
</h3>
<p>We can specify whether to use a median or mean for continuous
variables by specifying a <code>continuous_fn</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render <span class="op">=</span> <span class="va">render_cell_suppression.default</span>, </span>
<span>  continuous_fn <span class="op">=</span> <span class="st">'median'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (59 %)</td>
<td>15 (52 %)</td>
<td>18 (49 %)</td>
<td>53 (53 %)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35 %)</td>
<td>12 (41 %)</td>
<td>18 (49 %)</td>
<td>42 (42 %)</td>
</tr>
<tr>
<td class="rowlabel"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Q1, Q3]</td>
<td class="lastrow">68.478 [65.871, 72.230]</td>
<td class="lastrow">70.639 [65.050, 73.640]</td>
<td class="lastrow">70.341 [65.556, 74.247]</td>
<td class="lastrow">70.180 [65.335, 73.544]</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>(suppressed)</td>
<td>7 (24 %)</td>
<td>(suppressed)</td>
<td>19 (19 %)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>0 (0 %)</td>
<td>(suppressed)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44 %)</td>
<td>(suppressed)</td>
<td>15 (41 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35 %)</td>
<td>11 (38 %)</td>
<td>14 (38 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0 %)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>Note however that we can render medians without enabling cell
suppression, if desired.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render.continuous <span class="op">=</span> <span class="va">render_median.continuous</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (58.8%)</td>
<td>15 (51.7%)</td>
<td>18 (48.6%)</td>
<td>53 (53.0%)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35.3%)</td>
<td>12 (41.4%)</td>
<td>18 (48.6%)</td>
<td>42 (42.0%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">5 (5.0%)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Q1, Q3]</td>
<td class="lastrow">68.478 [65.871, 72.230]</td>
<td class="lastrow">70.639 [65.050, 73.640]</td>
<td class="lastrow">70.341 [65.556, 74.247]</td>
<td class="lastrow">70.180 [65.335, 73.544]</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>5 (14.7%)</td>
<td>7 (24.1%)</td>
<td>7 (18.9%)</td>
<td>19 (19.0%)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>2 (5.9%)</td>
<td>2 (6.9%)</td>
<td>0 (0%)</td>
<td>4 (4.0%)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44.1%)</td>
<td>7 (24.1%)</td>
<td>15 (40.5%)</td>
<td>37 (37.0%)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35.3%)</td>
<td>11 (37.9%)</td>
<td>14 (37.8%)</td>
<td>37 (37.0%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">3 (3.0%)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>We can also specify a render function only for a particular variable
type:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render.continuous <span class="op">=</span> <span class="va">render_cell_suppression.continuous</span>, </span>
<span>  continuous_fn <span class="op">=</span> <span class="st">'median'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (58.8%)</td>
<td>15 (51.7%)</td>
<td>18 (48.6%)</td>
<td>53 (53.0%)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35.3%)</td>
<td>12 (41.4%)</td>
<td>18 (48.6%)</td>
<td>42 (42.0%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">5 (5.0%)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Q1, Q3]</td>
<td class="lastrow">68.478 [65.871, 72.230]</td>
<td class="lastrow">70.639 [65.050, 73.640]</td>
<td class="lastrow">70.341 [65.556, 74.247]</td>
<td class="lastrow">70.180 [65.335, 73.544]</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>5 (14.7%)</td>
<td>7 (24.1%)</td>
<td>7 (18.9%)</td>
<td>19 (19.0%)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>2 (5.9%)</td>
<td>2 (6.9%)</td>
<td>0 (0%)</td>
<td>4 (4.0%)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44.1%)</td>
<td>7 (24.1%)</td>
<td>15 (40.5%)</td>
<td>37 (37.0%)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35.3%)</td>
<td>11 (37.9%)</td>
<td>14 (37.8%)</td>
<td>37 (37.0%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">3 (3.0%)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>Important conceptual notes</p>
<ol style="list-style-type: decimal">
<li><strong>True zeros are not suppressed.</strong></li>
</ol>
<p>True zeros risk identifying no patient, and therefore we do not hide
valuable information that does not bring with it the risk of
re-identification.</p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Cells that originally had 6 or more patients are also
suppressed.</strong></li>
</ol>
<p>Consider the group of patients in the pandemic subgroup. Note that
patients with CVD post-pandemic were suppressed even though there were
originally six patients in that subgroup. Had we only suppressed
patients with Dementia (two patients), knowing the total number of
patients during the pandemic (34), we could have reverse-calculated the
number of patients with Dementia.</p>
<p>Therefore the algorithm is designed to continue suppressing
successively larger groups until the total number of suppressed patients
is six or more, such that they cannot be reverse-calculated with
reasonable precision. The default option shows the desired behaviour and
the most conservative with respect to patient privacy.</p>
</div>
<div class="section level3">
<h3 id="customizing-output-for-continuous-variables---change-number-of-digits">Customizing output for continuous variables - change number of
digits<a class="anchor" aria-label="anchor" href="#customizing-output-for-continuous-variables---change-number-of-digits"></a>
</h3>
<p>We can also specify the number of digits to round means or medians to
using the <code>digits</code> argument.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render <span class="op">=</span> <span class="va">render_cell_suppression.default</span>, </span>
<span>  digits <span class="op">=</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N= 34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N= 29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N= 37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (59 %)</td>
<td>15 (52 %)</td>
<td>18 (49 %)</td>
<td>53 (53 %)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35 %)</td>
<td>12 (41 %)</td>
<td>18 (49 %)</td>
<td>42 (42 %)</td>
</tr>
<tr>
<td class="rowlabel"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">69.53 (± 5.53)</td>
<td class="lastrow">69.72 (± 5.69)</td>
<td class="lastrow">70.22 (± 5.93)</td>
<td class="lastrow">69.84 (± 5.68)</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>(suppressed)</td>
<td>7 (24 %)</td>
<td>(suppressed)</td>
<td>19 (19 %)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>0 (0 %)</td>
<td>(suppressed)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44 %)</td>
<td>(suppressed)</td>
<td>15 (41 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35 %)</td>
<td>11 (38 %)</td>
<td>14 (38 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0 %)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level3">
<h3 class="tabset" id="finer-control">Finer control<a class="anchor" aria-label="anchor" href="#finer-control"></a>
</h3>
<p><code>render_cell_suppression.default</code> is a wrapper around
individual <em>render</em> functions for each covariate datatype. For
finer control, use the primary cell suppression functionality as
implemented in the following render functions:</p>
<ul>
<li><code><a href="../reference/render_cell_suppression.categorical.html">render_cell_suppression.categorical()</a></code></li>
<li><code><a href="../reference/render_cell_suppression.continuous.html">render_cell_suppression.continuous()</a></code></li>
<li><code><a href="../reference/render_cell_suppression.discrete.html">render_cell_suppression.discrete()</a></code></li>
<li><code><a href="../reference/render_cell_suppression.missing.html">render_cell_suppression.missing()</a></code></li>
<li><code><a href="../reference/render_cell_suppression.strat.html">render_cell_suppression.strat()</a></code></li>
</ul>
<p>We can apply cell suppression directly to covariates of particular
data types by supplying these custom renderer functions.</p>
<div class="section level4">
<h4 id="suppress-categorical-variables-only">Suppress categorical variables only<a class="anchor" aria-label="anchor" href="#suppress-categorical-variables-only"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render.categorical <span class="op">=</span> <span class="va">render_cell_suppression.categorical</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (59 %)</td>
<td>15 (52 %)</td>
<td>18 (49 %)</td>
<td>53 (53 %)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35 %)</td>
<td>12 (41 %)</td>
<td>18 (49 %)</td>
<td>42 (42 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">5 (5.0%)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
<td>69.8 (5.68)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
<td class="lastrow">70.2 [58.0, 83.4]</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>(suppressed)</td>
<td>7 (24 %)</td>
<td>(suppressed)</td>
<td>19 (19 %)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>0 (0 %)</td>
<td>(suppressed)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44 %)</td>
<td>(suppressed)</td>
<td>15 (41 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35 %)</td>
<td>11 (38 %)</td>
<td>14 (38 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0 %)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level4">
<h4 id="suppress-cells-with-counts-fewer-than-six-only">Suppress cells with counts fewer than six only<a class="anchor" aria-label="anchor" href="#suppress-cells-with-counts-fewer-than-six-only"></a>
</h4>
<p>Although the default option shows the desired behaviour,
<em>Rgemini</em> can export a function that will simply suppress those
cells with counts fewer than six as needed.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render.categorical <span class="op">=</span> <span class="va">render_strict_cell_suppression.categorical</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (59 %)</td>
<td>15 (52 %)</td>
<td>18 (49 %)</td>
<td>53 (53 %)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35 %)</td>
<td>12 (41 %)</td>
<td>18 (49 %)</td>
<td>42 (42 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">5 (5.0%)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
<td>69.8 (5.68)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
<td class="lastrow">70.2 [58.0, 83.4]</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>&lt; 6 obs. (suppressed)</td>
<td>7 (24 %)</td>
<td>7 (19 %)</td>
<td>19 (19 %)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>&lt; 6 obs. (suppressed)</td>
<td>&lt; 6 obs. (suppressed)</td>
<td>0 (0 %)</td>
<td>&lt; 6 obs. (suppressed)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44 %)</td>
<td>7 (24 %)</td>
<td>15 (41 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35 %)</td>
<td>11 (38 %)</td>
<td>14 (38 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0 %)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level4">
<h4 id="suppress-missing-values">Suppress missing values<a class="anchor" aria-label="anchor" href="#suppress-missing-values"></a>
</h4>
<p>Note that to suppress missing values, we use the
<code><a href="../reference/render_cell_suppression.missing.html">render_cell_suppression.missing()</a></code> function:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render.categorical <span class="op">=</span> <span class="va">render_strict_cell_suppression.categorical</span>,</span>
<span>  render.missing <span class="op">=</span> <span class="va">render_cell_suppression.missing</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (59 %)</td>
<td>15 (52 %)</td>
<td>18 (49 %)</td>
<td>53 (53 %)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35 %)</td>
<td>12 (41 %)</td>
<td>18 (49 %)</td>
<td>42 (42 %)</td>
</tr>
<tr>
<td class="rowlabel"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Missing</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
<td>69.8 (5.68)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
<td class="lastrow">70.2 [58.0, 83.4]</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>&lt; 6 obs. (suppressed)</td>
<td>7 (24 %)</td>
<td>7 (19 %)</td>
<td>19 (19 %)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>&lt; 6 obs. (suppressed)</td>
<td>&lt; 6 obs. (suppressed)</td>
<td>0 (0 %)</td>
<td>&lt; 6 obs. (suppressed)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44 %)</td>
<td>7 (24 %)</td>
<td>15 (41 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35 %)</td>
<td>11 (38 %)</td>
<td>14 (38 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0 %)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>Note that there is an issue here. Although we were able to suppress
cells with counts less than six where the gender was missing, it is very
obvious what that count should be (i.e. it can be easily reverse
calculated). One approach to deal with this is to actually code the
missing gender values as a new category for that variable, and apply the
more conservative
<code><a href="../reference/render_cell_suppression.categorical.html">render_cell_suppression.categorical()</a></code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">gender</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"Not Available"</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">gender</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">gender</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Not Available"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, </span>
<span>  data <span class="op">=</span> <span class="va">data</span>, </span>
<span>  render.categorical <span class="op">=</span> <span class="va">render_cell_suppression.categorical</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (59 %)</td>
<td>15 (52 %)</td>
<td>18 (49 %)</td>
<td>53 (53 %)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Not Available</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
<td>69.8 (5.68)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
<td class="lastrow">70.2 [58.0, 83.4]</td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>(suppressed)</td>
<td>7 (24 %)</td>
<td>(suppressed)</td>
<td>19 (19 %)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>0 (0 %)</td>
<td>(suppressed)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44 %)</td>
<td>(suppressed)</td>
<td>15 (41 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35 %)</td>
<td>11 (38 %)</td>
<td>14 (38 %)</td>
<td>37 (37 %)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0 %)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>Although it might not make much practical sense in this case, this
approach should be taken for any categorical variable with missing
values where we would like to employ the most conservative cell
suppression strategy for patient privacy.</p>
</div>
<div class="section level4">
<h4 class="tabset" id="strategies-to-suppress-continuous-variables">Strategies to suppress continuous variables<a class="anchor" aria-label="anchor" href="#strategies-to-suppress-continuous-variables"></a>
</h4>
<p>It is also possible to suppress continuous variables if desired. See
the example below.</p>
<div class="section level5">
<h5 id="set-up">Set up<a class="anchor" aria-label="anchor" href="#set-up"></a>
</h5>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">continuous_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">"age"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">70</span>, sd <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>  <span class="st">"laps"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="st">"nobel"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nobel prize won"</span>, <span class="st">"nobel prize not won"</span><span class="op">)</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.99</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span><span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">laps</span> <span class="op">|</span> <span class="va">nobel</span>, data <span class="op">=</span> <span class="va">continuous_data</span><span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">nobel prize not won<br><span class="stratn">(N=99)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">nobel prize won<br><span class="stratn">(N=1)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>70.9 (8.91)</td>
<td>85.1 (NA)</td>
<td>71.1 (8.98)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">70.7 [47.9, 94.0]</td>
<td class="lastrow">85.1 [85.1, 85.1]</td>
<td class="lastrow">71.1 [47.9, 94.0]</td>
</tr>
<tr>
<td class="rowlabel firstrow">laps</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>1.09 (0.819)</td>
<td>0.364 (NA)</td>
<td>1.08 (0.818)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">0.841 [0.0158, 3.31]</td>
<td class="lastrow">0.364 [0.364, 0.364]</td>
<td class="lastrow">0.832 [0.0158, 3.31]</td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level5">
<h5 id="suppress-continuous-variables">Suppress continuous variables<a class="anchor" aria-label="anchor" href="#suppress-continuous-variables"></a>
</h5>
<p>We use <code>render_cell_suppression.continuous</code> to suppress
any summary statistics for groups with a size smaller than six.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">laps</span> <span class="op">|</span> <span class="va">nobel</span>, </span>
<span>  data <span class="op">=</span> <span class="va">continuous_data</span>, </span>
<span>  render.continuous <span class="op">=</span> <span class="va">render_cell_suppression.continuous</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">nobel prize not won<br><span class="stratn">(N=99)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">nobel prize won<br><span class="stratn">(N=1)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">70.947 (± 8.915)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">71.089 (± 8.982)</td>
</tr>
<tr>
<td class="rowlabel firstrow">laps</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">1.090 (± 0.819)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">1.083 (± 0.818)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>Note in this case however, using the strata totals we can
reverse-calculate the number of patients, so we suppress the counts in
the strata as well using <code>render_cell_suppression.strat</code>.</p>
</div>
<div class="section level5">
<h5 id="suppress-counts-in-the-strata">Suppress counts in the strata<a class="anchor" aria-label="anchor" href="#suppress-counts-in-the-strata"></a>
</h5>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">laps</span> <span class="op">|</span> <span class="va">nobel</span>, </span>
<span>  data <span class="op">=</span> <span class="va">continuous_data</span>, </span>
<span>  render.continuous <span class="op">=</span> <span class="va">render_cell_suppression.continuous</span>,</span>
<span>  render.strat <span class="op">=</span> <span class="va">render_cell_suppression.strat</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">nobel prize not won<br><span class="stratn">(N=99)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">nobel prize won<br><span class="stratn">(N&lt; 6 obs. (suppressed))</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">70.947 (± 8.915)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">71.089 (± 8.982)</td>
</tr>
<tr>
<td class="rowlabel firstrow">laps</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">1.090 (± 0.819)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
<td class="lastrow">1.083 (± 0.818)</td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level5">
<h5 id="suppress-overall-count">Suppress “Overall” count<a class="anchor" aria-label="anchor" href="#suppress-overall-count"></a>
</h5>
<p>We encounter a similar issue where we can reverse calculate the
strata total using the overall count. Therefore in this scenario we
could consider removing the “Overall” count:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">laps</span> <span class="op">|</span> <span class="va">nobel</span>, </span>
<span>  data <span class="op">=</span> <span class="va">continuous_data</span>, </span>
<span>  render.continuous <span class="op">=</span> <span class="va">render_cell_suppression.continuous</span>,</span>
<span>  render.strat <span class="op">=</span> <span class="va">render_cell_suppression.strat</span>,</span>
<span>  overall <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">nobel prize not won<br><span class="stratn">(N=99)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">nobel prize won<br><span class="stratn">(N&lt; 6 obs. (suppressed))</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">70.947 (± 8.915)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
</tr>
<tr>
<td class="rowlabel firstrow">laps</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">1.090 (± 0.819)</td>
<td class="lastrow">&lt; 6 obs. (suppressed)</td>
</tr>
</tbody>
</table></div>
<p> </p>
<p>Important conceptual notes:</p>
<p>We don’t employ the same strategy for stratification variables as we
do for categorical variables, where we successively suppress additional
strata until the total number of suppressed individuals is six or more.
This is because any categorical variable with six or more observations
in each category will indirectly provide the total for that strata.
Therefore it is safest to apply strict suppression on the strata totals,
and remove the “Overall” column as shown above.</p>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="calculating-standardized-mean-differences">Calculating standardized mean differences<a class="anchor" aria-label="anchor" href="#calculating-standardized-mean-differences"></a>
</h2>
<p>One primary difference between <code>tableone</code> and
<code>table1</code> is the ability to compute and display standardized
mean differences (SMDs). To enable this, <code>Rgemini</code> exports
<code><a href="../reference/max_pairwise_smd.html">max_pairwise_smd()</a></code>.</p>
<p>Note that for a stratification variable with two levels, this
corresponds to the absolute value of the SMD (no directionality). For a
stratification with more than two levels, this is the maximum pairwise
SMD.</p>
<p>It can be supplied to <code>table1</code> through the
<code>extra.col</code> argument, which takes a named list of extra
columns to append to the table. Usage is as follows:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span><span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">condition</span> <span class="op">|</span> <span class="va">exposure</span>, data <span class="op">=</span> <span class="va">data</span>, extra.col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Maximum Standardized Mean Difference"</span> <span class="op">=</span> <span class="va">max_pairwise_smd</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=100)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Maximum Standardized Mean Difference</span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">gender</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.295</td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (58.8%)</td>
<td>15 (51.7%)</td>
<td>18 (48.6%)</td>
<td>53 (53.0%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35.3%)</td>
<td>12 (41.4%)</td>
<td>18 (48.6%)</td>
<td>42 (42.0%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Not Available</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">5 (5.0%)</td>
<td class="lastrow"></td>
</tr>
<tr>
<td class="rowlabel firstrow">age</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.121</td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
<td>69.8 (5.68)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
<td class="lastrow">70.2 [58.0, 83.4]</td>
<td class="lastrow"></td>
</tr>
<tr>
<td class="rowlabel firstrow">condition</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.574</td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>5 (14.7%)</td>
<td>7 (24.1%)</td>
<td>7 (18.9%)</td>
<td>19 (19.0%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>2 (5.9%)</td>
<td>2 (6.9%)</td>
<td>0 (0%)</td>
<td>4 (4.0%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44.1%)</td>
<td>7 (24.1%)</td>
<td>15 (40.5%)</td>
<td>37 (37.0%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35.3%)</td>
<td>11 (37.9%)</td>
<td>14 (37.8%)</td>
<td>37 (37.0%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow">3 (3.0%)</td>
<td class="lastrow"></td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level2">
<h2 id="replicating-table1-functionality">Replicating <code>table1</code> functionality<a class="anchor" aria-label="anchor" href="#replicating-table1-functionality"></a>
</h2>
<p>Note that since these extensions are passed as arguments to
<code>table1</code>, the entire original API for <code>table1</code> is
still exposed. Therefore we replicate some of the same examples
here.</p>
<div class="section level3">
<h3 class="tabset" id="labelling">Labelling<a class="anchor" aria-label="anchor" href="#labelling"></a>
</h3>
<div class="section level4">
<h4 id="change-row-labels">Change row labels<a class="anchor" aria-label="anchor" href="#change-row-labels"></a>
</h4>
<p>We change both row labels below. In order to do this, we need to use
the default (i.e. “non-formula”) interface to <code>table1</code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>age<span class="op">=</span><span class="st">"Age (years)"</span>, gender<span class="op">=</span><span class="st">"Sex"</span>, condition<span class="op">=</span><span class="st">"MRDx"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">strata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">data</span><span class="op">$</span><span class="va">exposure</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span><span class="va">strata</span>, labels <span class="op">=</span> <span class="va">labels</span><span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">Age (years)</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
</tr>
<tr>
<td class="rowlabel firstrow">Sex</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (58.8%)</td>
<td>15 (51.7%)</td>
<td>18 (48.6%)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35.3%)</td>
<td>12 (41.4%)</td>
<td>18 (48.6%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Not Available</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
</tr>
<tr>
<td class="rowlabel firstrow">MRDx</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>5 (14.7%)</td>
<td>7 (24.1%)</td>
<td>7 (18.9%)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>2 (5.9%)</td>
<td>2 (6.9%)</td>
<td>0 (0%)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44.1%)</td>
<td>7 (24.1%)</td>
<td>15 (40.5%)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35.3%)</td>
<td>11 (37.9%)</td>
<td>14 (37.8%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level4">
<h4 id="change-strata-labels">Change strata labels<a class="anchor" aria-label="anchor" href="#change-strata-labels"></a>
</h4>
<p>Next we change the strata labels. To change strata labels we change
the names of the levels of the factor variable corresponding to the
strata</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">exposure</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"During Pandemic"</span>, <span class="st">"After Pandemic"</span>, <span class="st">"Before Pandemic"</span><span class="op">)</span></span>
<span><span class="va">strata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">data</span><span class="op">$</span><span class="va">exposure</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span><span class="va">strata</span>, labels <span class="op">=</span> <span class="va">labels</span><span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">Age (years)</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
</tr>
<tr>
<td class="rowlabel firstrow">Sex</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (58.8%)</td>
<td>15 (51.7%)</td>
<td>18 (48.6%)</td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35.3%)</td>
<td>12 (41.4%)</td>
<td>18 (48.6%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">Not Available</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
</tr>
<tr>
<td class="rowlabel firstrow">MRDx</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>5 (14.7%)</td>
<td>7 (24.1%)</td>
<td>7 (18.9%)</td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>2 (5.9%)</td>
<td>2 (6.9%)</td>
<td>0 (0%)</td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44.1%)</td>
<td>7 (24.1%)</td>
<td>15 (40.5%)</td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35.3%)</td>
<td>11 (37.9%)</td>
<td>14 (37.8%)</td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level4">
<h4 id="add-grouping-to-strata-and-standardized-mean-differences">Add grouping to strata and standardized mean differences<a class="anchor" aria-label="anchor" href="#add-grouping-to-strata-and-standardized-mean-differences"></a>
</h4>
<p>Next we also add grouping to the strata variable, specifying group
names in the <code>labels</code> list, as well as a
<code>groupspan</code> which is used span a label over multiple groups
in the <code>table1</code> call. We also add standardized mean
differences using <code>extra.col</code> to put it all together.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels</span><span class="op">$</span><span class="va">groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"After COVID"</span>, <span class="st">""</span><span class="op">)</span></span>
<span></span>
<span><span class="va">extra_col</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">extra_col</span><span class="op">$</span><span class="va">`SMD`</span> <span class="op">&lt;-</span> <span class="va">max_pairwise_smd</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span><span class="va">strata</span>, labels <span class="op">=</span> <span class="va">labels</span>, groupspan <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>, extra.col <span class="op">=</span> <span class="va">extra_col</span><span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead>
<tr>
<th class="grouplabel"></th>
<th colspan="2" class="grouplabel"><div>After COVID</div></th>
<th colspan="1" class="grouplabel"></th>
</tr>
<tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">SMD</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">Age (years)</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.121</td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>69.5 (5.53)</td>
<td>69.7 (5.69)</td>
<td>70.2 (5.93)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">68.5 [61.4, 83.4]</td>
<td class="lastrow">70.6 [58.0, 79.7]</td>
<td class="lastrow">70.3 [60.1, 82.3]</td>
<td class="lastrow"></td>
</tr>
<tr>
<td class="rowlabel firstrow">Sex</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.295</td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (58.8%)</td>
<td>15 (51.7%)</td>
<td>18 (48.6%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>12 (35.3%)</td>
<td>12 (41.4%)</td>
<td>18 (48.6%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Not Available</td>
<td class="lastrow">2 (5.9%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow"></td>
</tr>
<tr>
<td class="rowlabel firstrow">MRDx</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.574</td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>5 (14.7%)</td>
<td>7 (24.1%)</td>
<td>7 (18.9%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>2 (5.9%)</td>
<td>2 (6.9%)</td>
<td>0 (0%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44.1%)</td>
<td>7 (24.1%)</td>
<td>15 (40.5%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35.3%)</td>
<td>11 (37.9%)</td>
<td>14 (37.8%)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0%)</td>
<td class="lastrow">2 (6.9%)</td>
<td class="lastrow">1 (2.7%)</td>
<td class="lastrow"></td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="putting-it-all-together">Putting it all together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h2>
<p>Now we perform custom labeling, cell suppression, and adding a column
of standardized mean differences as follows:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span></span>
<span>  <span class="va">strata</span>, </span>
<span>  labels <span class="op">=</span> <span class="va">labels</span>,</span>
<span>  groupspan <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  render <span class="op">=</span> <span class="va">render_cell_suppression.default</span>,</span>
<span>  extra.col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"SMD"</span> <span class="op">=</span> <span class="va">max_pairwise_smd</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead>
<tr>
<th class="grouplabel"></th>
<th colspan="2" class="grouplabel"><div>After COVID</div></th>
<th colspan="2" class="grouplabel"></th>
</tr>
<tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">pandemic<br><span class="stratn">(N=34)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">post-pandemic<br><span class="stratn">(N=29)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">pre-pandemic<br><span class="stratn">(N=37)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">SMD</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">Age (years)</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.121</td>
</tr>
<tr>
<td class="rowlabel lastrow">Mean (SD)</td>
<td class="lastrow">69.527 (± 5.527)</td>
<td class="lastrow">69.723 (± 5.695)</td>
<td class="lastrow">70.220 (± 5.929)</td>
<td class="lastrow"></td>
</tr>
<tr>
<td class="rowlabel firstrow">Sex</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.295</td>
</tr>
<tr>
<td class="rowlabel">F</td>
<td>20 (59 %)</td>
<td>15 (52 %)</td>
<td>18 (49 %)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">M</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Not Available</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow"></td>
</tr>
<tr>
<td class="rowlabel firstrow">MRDx</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">0.574</td>
</tr>
<tr>
<td class="rowlabel">CVD</td>
<td>(suppressed)</td>
<td>7 (24 %)</td>
<td>(suppressed)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">Dementia</td>
<td>(suppressed)</td>
<td>(suppressed)</td>
<td>0 (0 %)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">DM</td>
<td>15 (44 %)</td>
<td>(suppressed)</td>
<td>15 (41 %)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel">Pneumonia</td>
<td>12 (35 %)</td>
<td>11 (38 %)</td>
<td>14 (38 %)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">DVT</td>
<td class="lastrow">0 (0 %)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow">(suppressed)</td>
<td class="lastrow"></td>
</tr>
</tbody>
</table></div>
<p> </p>
</div>
<div class="section level2">
<h2 id="customization-and-extending-functionality">Customization and extending functionality<a class="anchor" aria-label="anchor" href="#customization-and-extending-functionality"></a>
</h2>
<p>Note that <code>table1</code> offers much for flexibility than what
is briefly described above with respect to labeling. There is even the
possibility to fine tune the table’s appearance with CSS. See more
examples in the <a href="https://cran.r-project.org/web/packages/table1/vignettes/table1-examples.html" class="external-link">vignette
here</a>.</p>
<p>There is also the possibility to define new render functions and new
extra columns.</p>
<div class="section level3">
<h3 id="creating-render-functions">Creating render functions<a class="anchor" aria-label="anchor" href="#creating-render-functions"></a>
</h3>
<p>Note that render functions must be designed to take as input a single
argument corresponding to a vector (<code>numeric</code> or
<code>factor</code>), and output a named <code>character</code> vector,
where the first element is unnamed and always <code>""</code>. See the
examples below for how the output should be formatted:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">am</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/render_cell_suppression.categorical.html">render_cell_suppression.categorical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">am</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                       0           1 </span></span>
<span><span class="co">##          "" "19 (59 %)" "13 (41 %)"</span></span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/render_cell_suppression.continuous.html">render_cell_suppression.continuous</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                           Mean (SD) </span></span>
<span><span class="co">##                        "" "10.500 (&amp;plusmn; 5.916)"</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/render_cell_suppression.missing.html">render_cell_suppression.missing</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">19</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                                               Missing </span></span>
<span><span class="co">##                         "" "&amp;lt; 6 obs. (suppressed)"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="creating-extra-columns">Creating extra columns<a class="anchor" aria-label="anchor" href="#creating-extra-columns"></a>
</h3>
<p>Note that functions defined for extra columns must always take a
named list as the first argument, and ellipses (<code>...</code>) as the
last. The named list corresponds to a variable in the data split by the
stratifying variable, such as in the example below:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">disp</span>, <span class="va">mtcars</span><span class="op">$</span><span class="va">am</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_max_col</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">max</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">my_max_col</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 472</span></span></code></pre>
<p>Now this newly defined function can be added as an extra column.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/table1/man/table1.html" class="external-link">table1</a></span><span class="op">(</span><span class="op">~</span> <span class="va">disp</span> <span class="op">|</span> <span class="va">am</span>, data <span class="op">=</span> <span class="va">mtcars</span>, extra.col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"My Max"</span> <span class="op">=</span> <span class="va">my_max_col</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="Rtable1"><table class="table Rtable1">
<thead><tr>
<th class="rowlabel firstrow lastrow"></th>
<th class="firstrow lastrow"><span class="stratlabel">0<br><span class="stratn">(N=19)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">1<br><span class="stratn">(N=13)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">Overall<br><span class="stratn">(N=32)</span></span></th>
<th class="firstrow lastrow"><span class="stratlabel">My Max</span></th>
</tr></thead>
<tbody>
<tr>
<td class="rowlabel firstrow">disp</td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow"></td>
<td class="firstrow">472</td>
</tr>
<tr>
<td class="rowlabel">Mean (SD)</td>
<td>290 (110)</td>
<td>144 (87.2)</td>
<td>231 (124)</td>
<td></td>
</tr>
<tr>
<td class="rowlabel lastrow">Median [Min, Max]</td>
<td class="lastrow">276 [120, 472]</td>
<td class="lastrow">120 [71.1, 351]</td>
<td class="lastrow">196 [71.1, 472]</td>
<td class="lastrow"></td>
</tr>
</tbody>
</table></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by GEMINIdata.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
