<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Rgemini">
<title>Episodes of care and Readmission • Rgemini</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Episodes of care and Readmission">
<meta property="og:description" content="Rgemini">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Rgemini</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cell_suppression_and_table1.html">Cell Suppression and Table 1</a>
    <a class="dropdown-item" href="../articles/daily_census.html">Daily Census</a>
    <a class="dropdown-item" href="../articles/epicare_and_readmission.html">Episodes of care and Readmission</a>
    <a class="dropdown-item" href="../articles/icd_to_ccsr.html">ICD to CCSR</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Episodes of care and Readmission</h1>
            
            <h4 data-toc-skip class="date">2023-08-15</h4>
      
      
      <div class="d-none name"><code>epicare_and_readmission.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette contains detailed information about two functions that
are closely related to each other: <code><a href="../reference/episodes_of_care.html">episodes_of_care()</a></code> and
<code><a href="../reference/readmission.html">readmission()</a></code>. The <code>episodes_of_care</code> function
is used in the <code>readmission</code> calculations in order to avoid
that encounters that are linked via transfers (i.e., are part of the
same episode of care) are counted as readmissions. The definitions used
in both functions are based on CIHI guidelines for readmission
calculations (see <a href="https://www.cihi.ca/en/indicators/all-patients-readmitted-to-hospital" class="external-link">here</a>).</p>
<div class="section level3">
<h3 id="episodes_of_care">
<code>episodes_of_care()</code><a class="anchor" aria-label="anchor" href="#episodes_of_care"></a>
</h3>
<p>The function <strong><code><a href="../reference/episodes_of_care.html">episodes_of_care()</a></code></strong> links
together hospitalizations with acute care transfers into unique episodes
of care. For each hospitalization (<code>genc_id</code>), the function
returns the corresponding: <code>patient_id_hashed</code>,
<code>time_to_next_admission</code>,
<code>time_since_last_admission</code>, <code>AT_in_coded</code>,
<code>AT_out_coded</code>, <code>AT_in_occurred</code>,
<code>AT_out_occurred</code>, <code>epicare</code>.</p>
<ul>
<li><p><strong>Coded Transfers (<em>AT_in_coded</em>,
<em>AT_out_occurred</em>):</strong> A coded acute care transfer refers
to hospital coding of acute care transfers based on the DAD
<em>Institution From</em> and <em>Institution To</em> fields.
Specifically, a hospitalization has a coded transfer-in
<code>AT_in_coded==T</code>, if <code>institution_from_type=='AT'</code>
or <code>acute_transfer_in=='AT'</code>, vice versa for coded transfer
out.</p></li>
<li><p><strong>Occurred Transfers (<em>AT_in_occurred</em>,
<em>AT_out_occurred</em>):</strong> An acute care transfer is assumed to
have occurred (<code>AT_in_occurred==T</code>,
<code>AT_out_occurred==T</code>) if either of the following criteria are
met:</p></li>
</ul>
<blockquote>
<ul>
<li>An admission to a medical or intensive care service at a GEMINI
hospital within 7 hours after discharge from another GEMINI hospital,
regardless of whether the transfer is coded by hospital.</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>An admission to a medical or intensive care service at a GEMINI
hospital within 7-12 hours after discharge from another GEMINI hospital,
and at least 1 hospital has coded the transfer.</li>
</ul>
</blockquote>
<ul>
<li>
<strong>Episode of Care (<em>epicare</em>):</strong> An episode of
care refers to all contiguous inpatient hospitalizations admitted to any
medical or intensive care service within the GEMINI network. Contiguous
inpatient hospitalizations are defined based on occurred transfers
(<code>AT_in_occurred==T</code> or <code>AT_out_occurred==T</code>).
Episodes involving inter-facility transfers are linked regardless of
diagnosis. By default, episodes of care are computed on all
hospitalizations in the <code>admdad</code> table. See <a href="#sectionrecohort"><em>Section 3.4</em></a> and function
documentation for options to compute epicare using a user specified
cohort.</li>
</ul>
<blockquote>
<p>The flowchart below shows how epicares are built:</p>
</blockquote>
<p><img src="figures/epicare_flow_2.png" width="90%" style="display: block; margin: auto;"></p>
<blockquote>
<p>Example output of <code>episodes_of_care(db)</code> (mock data for
illustration purposes, not real data):</p>
</blockquote>
<p><img src="figures/epicare_out_2.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="readmission">
<code>readmission()</code><a class="anchor" aria-label="anchor" href="#readmission"></a>
</h3>
<p>The function <strong><code><a href="../reference/readmission.html">readmission()</a></code></strong> computes
whether or not a patient associated with an epicare was readmitted to a
GEMINI hospital within a specified time window. For each hospitalization
(<code>genc_id</code>), the function returns its corresponding:
<code>AT_in_occurred</code>, <code>AT_out_occurred</code>,
<code>epicare</code>, and <code>readmitX</code>. <code>readmitX</code>
is a boolean variable denoting whether readmission took place during a
time window X-days post-discharge.</p>
<p>It is important to realize that readmission is determined by looking
forward into data in the future. Therefore, <code>readmitX</code> is a
measurement of quality of care of the current episode and evaluates
whether factors in the current episode <strong>LEAD</strong> to
readmission in the future.</p>
<p>For episodes of care involving acute care transfers, readmissions are
attributed to the <strong>LAST hospitalization</strong> from which the
patient was discharged before readmission; namely only the last
<code>genc_id</code> of an episode have <code>readmitX</code> assigned,
the rest are set to <code>NA</code>.</p>
<p>By default, all records in the <code>admdad</code> table are used to
calculate readmission. See <a href="#sectionrecohort"><em>Section
3.4</em></a> and function documentation for options to compute
readmission on a user specified cohort.</p>
<blockquote>
<p>Mock example output of <code>readmission(db)</code> (mock data for
illustration purposes, not real data. patient_id added to facilitate
interpretation):</p>
</blockquote>
<p><img src="figures/readmission_out_2.png" width="70%" style="display: block; margin: auto;"></p>
<div class="section level4">
<h4 id="general-readmission-rate-calculation">General readmission rate calculation<a class="anchor" aria-label="anchor" href="#general-readmission-rate-calculation"></a>
</h4>
<ul>
<li>
<strong>Denominator of Readmission Rate:</strong> Total number of
episodes with potential to be readmitted. There are various conditions
where episodes are removed from the denominator. For example, episodes
discharged as death cannot be readmitted, are therefore, removed from
the denominator of readmission rate calculation (see details in <a href="#sectionCIHI"><em>Section 2 CIHI flags</em></a>).</li>
</ul>
<blockquote>
<p>An episode is removed from the <strong><em>Denominator</em></strong>
by setting
<strong><font size="3"><code>readmitX = NA</code></font></strong> for
the <strong>current episode</strong>.</p>
</blockquote>
<ul>
<li>
<strong>Numerator of Readmission Rate:</strong> Number of episodes
within the denominator that were actually readmitted within the time
window of interest. There are various conditions where episodes are
removed from the numerator. For example, elective admissions might not
be considered as readmissions, and therefore, episodes with elective
admissions are removed from the numerator (see details in <a href="#sectionCIHI"><em>Section 2 CIHI flags</em></a>).</li>
</ul>
<blockquote>
<p>An episode is removed from the <strong><em>Numerator</em></strong> by
setting <strong><font size="3"><code>readmitX = F</code></font></strong>
for the <strong>preceding episode</strong>.</p>
</blockquote>
<p>The example code below shows how to calculate 7-day readmission rate
properly using default settings. It is important to note the presence of
NAs in the returned <code>readmitX</code> variable and remember to
exclude NAs when calculating readmission rates:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load necessary libraries:</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tomoakin/RPostgreSQL" class="external-link">RPostgreSQL</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org" class="external-link">DBI</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wrathematics/getPass" class="external-link">getPass</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Establish database connection</span></span>
<span><span class="va">db</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="va">drv</span>,</span>
<span>                     dbname <span class="op">=</span> <span class="st">"db"</span>,</span>
<span>                     host <span class="op">=</span> <span class="st">"172.XX.XX.XXX"</span>,</span>
<span>                     port <span class="op">=</span> <span class="fl">1234</span>,</span>
<span>                     user <span class="op">=</span> <span class="fu">getPass</span><span class="op">(</span><span class="st">"Enter user:"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run default readmission calculation (with elective_admit=T and death=T)        </span></span>
<span><span class="va">readm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readmission.html">readmission</a></span><span class="op">(</span><span class="va">db</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># Compute readmission rate based on readmission output</span></span>
<span><span class="va">denominator</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span> <span class="va">readm</span><span class="op">$</span><span class="va">readmit7</span> <span class="op">)</span> <span class="op">)</span> </span>
<span><span class="va">numerator</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span> <span class="va">readm</span><span class="op">$</span><span class="va">readmit7</span>, na.rm<span class="op">=</span><span class="cn">T</span> <span class="op">)</span> </span>
<span><span class="va">readmission_7d_derived</span> <span class="op">&lt;-</span> <span class="va">numerator</span><span class="op">/</span><span class="va">denominator</span></span>
<span></span>
<span><span class="co"># Compute readmission rate based on readmission output (Alternative)</span></span>
<span><span class="va">readmission_7d_derived</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span> <span class="va">readm</span><span class="op">$</span><span class="va">readmit7</span>, na.rm<span class="op">=</span><span class="cn">T</span> <span class="op">)</span> </span></code></pre></div>
</div>
<div class="section level4">
<h4 id="gemini-specific-considerations">GEMINI specific considerations<a class="anchor" aria-label="anchor" href="#gemini-specific-considerations"></a>
</h4>
<p><strong>1. Readmission attribution when end of episode is
unknown</strong></p>
<ul>
<li><p>When the last hospitalization of an epicare has transfer out
coded (<code>AT_out_coded</code>==T) and
<code>time_to_next_admission</code> is greater than 12 hours or
infinite, it suggests that the patient likely had been transferred to a
hospital <strong>outside of the GEMINI network</strong>. It cannot be
known for certain that the last hospitalization in our records is the
last hospitalization of the epicare in reality.</p></li>
<li><p>To avoid inaccurate attribution of potential readmission, such
epicares are <strong>excluded from the denominator
(<code>readmitX=NA</code>)</strong> of readmission calculation
.</p></li>
<li>
<p>The rationales are:</p>
<ul>
<li>Not all hospitals/medical subservices are in GEMINI network</li>
<li>Transfers coded by hospitals are typically true transfers rather
than errors.</li>
</ul>
</li>
</ul>
<blockquote>
<p>Hypothetical example of special readmission attribution (compare
colored entries in genc_id 103 vs 301, and genc_id 105 vs 201, and see
how readmit7 is affected):</p>
</blockquote>
<p><img src="figures/attribution_2.png" width="100%" style="display: block; margin: auto;"><br></p>
<p><strong>2. Buffer period based on each hospital’s data
availability</strong> {#sectionBuffer}</p>
<ul>
<li><p>A patient needs to be discharged from hospital before appearing
in GEMINI database. If a patient was readmitted to a hospital but has
not yet been discharged by the time data is transferred to GEMINI, that
readmission record will not be captured in our database. As a result,
readmission rates could be underestimated in the time period before the
latest data transfers.</p></li>
<li><p>To mitigate this bias, <strong>a buffer period</strong> based on
data availability of each hospital is applied to the readmission
calculation. If an episode’s discharge time is in the buffer period, the
epicare is <strong>excluded from the denominator
(<code>readmitX=NA</code>)</strong> of readmission rates.</p></li>
</ul>
<blockquote>
<p>Buffer Period = <br> [ (Hospital’s last discharge date - Readmission
window - Additional 30 days) <br> , (Hospital’s last discharge date)
]</p>
</blockquote>
<ul>
<li>The rationales are:
<ul>
<li>The X number of days specified by the readmission window must have
passed to allow for X-day readmission to occur;</li>
<li>95% of hospital admissions are discharged within 30 days based on
GEMINI data. Therefore, for patients discharged within the buffer
period, there is not enough time for readmission to happen and appear in
our database;</li>
<li>Since the buffer period is determined by each hospital’s data
availability, there is a possibility of inter-hospital biases that
cannot be addressed. While we strive to minimize potential biases, we
recognize that complete elimination may not be feasible.</li>
</ul>
</li>
</ul>
<blockquote>
<p>Hypothetical example of how buffer period affects 7-day readmission
of a patient:</p>
</blockquote>
<p><img src="figures/buffer_2.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="customizable-features">Customizable features<a class="anchor" aria-label="anchor" href="#customizable-features"></a>
</h4>
<ul>
<li><p><strong>CIHI flags:</strong> see <a href="#sectionCIHI"><em>Section 2 CIHI flags</em></a>.</p></li>
<li><p><strong>Readmission time window:</strong> By default, the
<code><a href="../reference/readmission.html">readmission()</a></code> function computes 7-day and 30-day
readmission rates. Users have the option to specify a customized time
window using the <code>readm_win</code> argument. We recommend to
exercise caution when customizing the readmission window, see <a href="#sectionrewin"><em>Section 3.3</em></a> for details.</p></li>
<li><p><strong>Restricted cohort:</strong> By default, readmissions are
determined by searching all the data in the database. There may be
scenarios where users want to determine readmissions only among records
within a restricted cohort. Both the <code><a href="../reference/episodes_of_care.html">episodes_of_care()</a></code> and
<code><a href="../reference/readmission.html">readmission()</a></code> functions allow users to input a customized
cohort using the <code>restricted_cohort</code> argument. We recommend
to exercise caution when a restricted cohort is used, see <a href="#sectionrecohort"><em>Section 3.4</em></a> for details.</p></li>
</ul>
</div>
</div>
</div>
<div class="section level2">
<h2 id="sectionCIHI">Readmission: CIHI flags<a class="anchor" aria-label="anchor" href="#sectionCIHI"></a>
</h2>
<div class="section level3">
<h3 id="cihi-readmission-rate-calculation">CIHI readmission rate calculation<a class="anchor" aria-label="anchor" href="#cihi-readmission-rate-calculation"></a>
</h3>
<ul>
<li><p>There are total 8 CIHI flags as function input arguments:
<code>elective_admit</code>, <code>death</code>, <code>MAID</code>,
<code>palliative</code>, <code>chemo</code>, <code>mental</code>,
<code>obstetric</code>, <code>signout</code>. Each flag removes episodes
using different criteria when activated. More details on inclusion and
exclusion criteria are discussed in <code>CIHI flags section</code>
below and the <a href="https://www.cihi.ca/en/indicators/medical-patients-readmitted-to-hospital" class="external-link">CIHI
website</a></p></li>
<li>
<p>Rationale for default definition and readmission rate per CIHI
definition</p>
<ul>
<li>We only explain those two definitions as below since default
definition is GEMINI-specific, and CIHI definition is used in
MPR/OPR</li>
<li>Any other combinations of flags are potentially suitable for
different project needs</li>
</ul>
</li>
<li>
<p><strong>Default definition</strong>: the
<code>elective_admit</code> flag and the <code>death</code> flag are
default to TRUE in the readmission function. If users set them to FALSE,
warning messages will be displayed. The remaining six flags are default
to FALSE.</p>
<ul>
<li>Elective admission is excluded since it’s planned. Thus, the
corresponding episode of care is ineligible for readmission calculations
and is therefore removed from the denominator.</li>
<li>It’s impossible for an episode of care which ends in death to be
followed by a readmission, thus, the corresponding episode of care is
ineligible for readmission calculations and is therefore removed from
the denominator.</li>
</ul>
</li>
<li>
<p><strong>CIHI definition</strong>: To compute readmission rate
adhering to the CIHI definition, <strong>ALL</strong> 8 flags need to be
set to TRUE.</p>
<ul>
<li>The main purpose of having 8 flags in design is to match CIHI
definition, however, we have come up with potential rationale under the
corresponding flag sections for your reference</li>
<li>Detailed flag definitions can be found below (or in the comments in
<code>readmission.R</code> script)</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readmission.html">readmission</a></span> <span class="op">(</span><span class="va">db</span>, elective_admit<span class="op">=</span><span class="cn">T</span>, death<span class="op">=</span><span class="cn">T</span>, MAID <span class="op">=</span> <span class="cn">T</span>, palliative<span class="op">=</span><span class="cn">T</span>, chemo<span class="op">=</span><span class="cn">T</span>, mental<span class="op">=</span><span class="cn">T</span>, obstetric <span class="op">=</span> <span class="cn">T</span>, signout <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">readmission_7d_derived_cihi</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span> <span class="va">res</span><span class="op">$</span><span class="va">readmit7</span>, na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">readmission_30d_derived_cihi</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span> <span class="va">res</span><span class="op">$</span><span class="va">readmit30</span>, na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="overview-of-numerator-denominator-removal-by-flag">Overview of numerator &amp; denominator removal by flag<a class="anchor" aria-label="anchor" href="#overview-of-numerator-denominator-removal-by-flag"></a>
</h3>
<blockquote>
<p>There are 8 CIHI flags, each of which can be set to TRUE or FALSE.
Elective admission and death flags are active by default. Activating a
given flag (e.g., chemo and/or self sign-out flag) results in removal
from numerator and/or denominator as illustrated in the flow chart
below. Note that some flags (mental &amp; palliative) result in the
removal from both numerator and denominator:</p>
</blockquote>
<p><img src="figures/flags_diagram_2.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="flag-details">Flag details<a class="anchor" aria-label="anchor" href="#flag-details"></a>
</h3>
<p><strong>Disclaimer</strong>: all the examples (focus on red text in
tables) below are mock final outputs of <code>readmission.R</code></p>
<div class="section level4">
<h4 id="elective-flag">Elective flag<a class="anchor" aria-label="anchor" href="#elective-flag"></a>
</h4>
<ul>
<li>An episode is elective if its admit_category is ‘L’</li>
<li>An episode of care is considered elective if the
<strong>FIRST</strong> encounter of that episode is elective
(admit_category = ‘L’)</li>
<li>An episode with elective admissions is removed from the
numerator</li>
</ul>
<p><img src="figures/elective_2.png" width="65%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="death-flag">Death flag<a class="anchor" aria-label="anchor" href="#death-flag"></a>
</h4>
<ul>
<li>An episode ends with death if this episode has discharge as death
(DAD Discharge Disposition Code = 07, 72, 73, 74)</li>
<li>If the index admission results in death, there cannot be any
readmission. Therefore, episodes of care with death are excluded from
the denominator (reamitX=NA)</li>
</ul>
<p><img src="figures/death_2.png" width="65%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="maid-flag">MAID flag<a class="anchor" aria-label="anchor" href="#maid-flag"></a>
</h4>
<ul>
<li>Rationale for exclusion: MAID (medical assistance in dying) is
planned and doesn’t reflect quality of care</li>
<li>After 2018-04-01: An episode is MAID if its discharge
disposition=73</li>
<li>Before 2018-04-01: An episode is MAID if <strong>ANY</strong>
genc_id of an epicare has discharge disposition=7 <strong>AND</strong>
all 3 records of drugs (1st drug lets patient relax, 2nd drug stops
heart beat, 3rd drug stops brain function; indicated by
intervention_codes loaded)</li>
<li>If an epicare has <strong>ANY</strong> encounter with MAID, it is
not considered to be a true readmission and is removed from
numerator.</li>
<li>Note: If death = T, the epicare with MAID (which results in death)
is additionally removed from the denominator. If death = F, the epicare
with MAID is kept in the denominator. The general recommendation is to
set death to T if MAID is T.</li>
</ul>
<p><img src="figures/maid_2.png" width="65%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="self-sign-out-lama-flag">self sign-out / LAMA flag<a class="anchor" aria-label="anchor" href="#self-sign-out-lama-flag"></a>
</h4>
<ul>
<li>Rationale for exclusion: self sign-out doesn’t reflect physicians’
decisions to discharge and doesn’t reflect quality of care</li>
<li>When <strong>LAST</strong> encounter of episode of care has
discharge disposition = self sign-out (i.e. LAMA - left against medical
advice: 61, 62, 65, 66, 67), the episode is removed from denominator to
avoid attribution of potential readmission to physician</li>
<li>Note: While self sign-out is excluded based on CIHI definition,
GEMINI DB doesn’t capture different physician practices or philosophies
regarding self sign-out (eg. Amol never codes self sign-out since he
believes it’s patients’ right to leave on their own), or self sign-out
information only recorded on paper.</li>
</ul>
<p><img src="figures/sign-out_2.png" width="65%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="palliative-flag">palliative flag<a class="anchor" aria-label="anchor" href="#palliative-flag"></a>
</h4>
<ul>
<li>Rationale for exclusion: palliative care is not acute care and can
be scheduled to some extent, therefore, it doesn’t reflect quality of
care</li>
<li>An episode is palliative care if it has diagnosis code of
(ICD-10-CA: Z51.5) as type MRDx</li>
<li>When an episode of care includes <strong>ANY</strong> encounter with
palliative care as most responsible discharge diagnosis, it is removed
from numerator and denominator</li>
</ul>
</div>
<div class="section level4">
<h4 id="chemo-flag">chemo flag<a class="anchor" aria-label="anchor" href="#chemo-flag"></a>
</h4>
<ul>
<li>Rationale for exclusion: same as palliative flag</li>
<li>An episode has chemotherapy if it has diagnosis code of (ICD-10-CA:
Z51.1) as type (M), (1), (C), (W), (X) or (Y)</li>
<li>When an episode of care (epicare) includes <strong>ANY</strong>
encounter with chemotherapy, the entire epicare is considered as a
chemotherapy episode.</li>
<li>Readmission with chemotherapy is not considered a true readmission,
and it is removed from numerator.</li>
</ul>
</div>
<div class="section level4">
<h4 id="mental-health-flag">mental health flag<a class="anchor" aria-label="anchor" href="#mental-health-flag"></a>
</h4>
<ul>
<li>Rationale for exclusion: same as palliative flag</li>
<li>An episode is mental health if it falls under MCC=17</li>
<li>When an episode of care includes <strong>ANY</strong> encounter with
a mental health diagnosis, it is removed from numerator and
denominator</li>
</ul>
</div>
<div class="section level4">
<h4 id="obstetric-delivery">obstetric delivery<a class="anchor" aria-label="anchor" href="#obstetric-delivery"></a>
</h4>
<ul>
<li>Rationale for exclusion: same as palliative flag</li>
<li>An episode is obstetric delivery if it has diagnosis codes of
(ICD-10-CA: O10–O16, O21–O29, O30–O37, O40–O46, O48, O60–O69, O70–O75,
O85–O89, O90–O92, O95, O98, O99 with a sixth digit of 1 or 2; or Z37
recorded in any diagnosis field)</li>
<li>Episodes of care that have <strong>ANY</strong> encounter with
obstetric delivery are not considered a true readmission, and are
therefore removed from numerator</li>
</ul>
</div>
</div>
</div>
<div class="section level2">
<h2 id="practical-examples-special-scenarios">Practical examples &amp; special scenarios<a class="anchor" aria-label="anchor" href="#practical-examples-special-scenarios"></a>
</h2>
<blockquote>
<p>This flow chart provides an overview of how readmission calculations
can be customized for different research purposes. Depending on the
research context, you may be able to use the derived readmission
variables in the DB (see <a href="#sectionderived"><em>Section
3.1</em></a>). Alternatively, you can run the readmission function with
customized CIHI flags (<a href="#sectioncustomCIHI"><em>Section
3.2</em></a>), customized readmission window (<a href="#sectionrewin"><em>Section 3.3</em></a>), and/or a restricted
readmission cohort (<a href="#sectionrecohort"><em>Section
3.4</em></a>):</p>
</blockquote>
<p><img src="figures/customReadm_fig3.png" width="100%" style="display: block; margin: auto;"></p>
<div class="section level3">
<h3 id="sectionderived">Using derived variables in DB<a class="anchor" aria-label="anchor" href="#sectionderived"></a>
</h3>
<p><strong>When to use:</strong></p>
<ul>
<li>To get default/CIHI definition of 7-/30-day readmission, including
all readmissions to any GEMINI hospital &amp; to any medical
subservice</li>
</ul>
<p><strong>How to use:</strong> Query the <code>derived_variables</code>
table, which contains the two most commonly used definitions of 7- and
30-day readmission:</p>
<ol style="list-style-type: decimal">
<li>Default definition of readmission (excluding elective readmissions
and death):
<code>readmission_7d_derived</code>/<code>readmission_30d_derived</code>
</li>
<li>CIHI definition of readmission (all exclusion flags, see <a href="#sectionCIHI"><em>Section 2</em></a>):
<code>readmission_7d_derived_cihi</code>/<code>readmission_30d_derived_cihi</code>
</li>
</ol>
<p><strong>Example</strong>: 7-day readmission rates of patients at
phase-1 sites:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get derived readmissions for phase-1 sites</span></span>
<span><span class="va">readm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbGetQuery.html" class="external-link">dbGetQuery</a></span><span class="op">(</span><span class="va">db</span>, <span class="st">"SELECT readmission_7d_derived FROM derived_variables </span></span>
<span><span class="st">                    WHERE hospital_id IN ('SMH', 'SBK', 'UHNTW', 'UHNTG', 'MSH', 'THPC', 'THPM');"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">readm</span><span class="op">$</span><span class="va">readmission_7d_derived</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><strong>Other examples</strong>:</p>
<ul>
<li>MPR/OPR readmission rates</li>
<li>Descriptive analyses of general readmission rates</li>
<li>Comparing overall readmission rates of patients with certain
diagnoses/treatments</li>
<li>…</li>
</ul>
<p><strong>Note:</strong> The derived variables are based on the entire
GEMINI DB. That is, they consider readmissions to any medical service at
any GEMINI hospital. For that reason, they reflect overall/general
readmission rates, which is a common variable of interest in many
research projects.</p>
<p>However, there may be cases where you need to run the
<code>readmission</code> function on a subset of the database by using
the <code>restricted_cohort</code> argument (see <a href="#sectionrecohort"><em>Section 3.4</em></a>).</p>
</div>
<div class="section level3">
<h3 id="sectioncustomCIHI">Customizing CIHI flags<a class="anchor" aria-label="anchor" href="#sectioncustomCIHI"></a>
</h3>
<p>The derived variables in the DB only provide readmission values for
the default &amp; CIHI definitions of readmission, which are the most
common definitions used in GEMINI research projects/reports. However, if
another definition is required for specific research purposes, users can
specify customized CIHI flags by setting each of the 8 CIHI flags to
either TRUE or FALSE (see <a href="#sectionCIHI"><em>Section 2</em></a>
for details). For example, run this code to exclude MAID (in addition to
excluding elective admissions &amp; death which are set to TRUE by
default):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/readmission.html">readmission</a></span><span class="op">(</span><span class="va">db</span>, MAID<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sectionrewin">Specifying custom readmission window<a class="anchor" aria-label="anchor" href="#sectionrewin"></a>
</h3>
<p>By default, the <code>readmission</code> function only calculates 7-
and 30-day readmission. Users can provide an additional input argument
<code>readm_win</code> that contains any readmission window(s) of
interest (in days).</p>
<p><strong>Example:</strong> Get 14-, 90-, and 180- day readmission.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">readm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readmission.html">readmission</a></span><span class="op">(</span><span class="va">db</span>, readm_win <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>, <span class="fl">90</span>, <span class="fl">180</span><span class="op">)</span><span class="op">)</span>  <span class="co"># specify readmission windows in days</span></span></code></pre></div>
<p>All readmission windows should be provided as positive integers.
Otherwise, the function will exit with an error message.</p>
<p><strong>Note:</strong> Large readmission windows can lead to the
exclusion of a high percentage of encounters at the end of the data
availability timeline. This is because the function can only calculate
readmissions for patients whose index encounter was prior to the buffer
period. The buffer period depends on the length of the readmission
window (e.g., 14/90/180 days) + an additional 30 days (see <a href="#sectionBuffer"><em>Section 1.2.2</em></a>). Therefore, the buffer
period is longer for large readmission windows, which can lead to the
exclusion of many patients. This is especially problematic if the cohort
of interest is towards the end of the data availability timeline (e.g.,
2021-2022 data).</p>
<p>The function will show the following warning if more than 25% of the
cohort are excluded due to the buffer period and/or due to the CIHI
flags:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of readmission rates for data from June 2021, resulting in a high % of encounters in the buffer period </span></span>
<span><span class="va">readm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readmission.html">readmission</a></span><span class="op">(</span><span class="va">db</span>, restricted_cohort <span class="op">=</span> <span class="va">admdad</span><span class="op">[</span><span class="fu">ymd_hm</span><span class="op">(</span><span class="va">discharge_date_time</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="st">"2021-06-01 00:00"</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Warning: Up to 41.3% of episodes of care have been removed from the denominator. This can be due to</span></span>
<span><span class="co">#&gt;         1) some CIHI flags (death/palliative/mental/signout) or</span></span>
<span><span class="co">#&gt;         2) removal due to the buffer period, which is 30 days + readmission window.</span></span>
<span><span class="co">#&gt;         The removal due to the buffer period was 20.5%/33.4% for 7/30-day readmission.</span></span>
<span><span class="co">#&gt;         Readmission rate estimates might be unreliable! Please consider re-calculating</span></span>
<span><span class="co">#&gt;         readmission rates with shorter readmission windows or with a larger cohort.</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="sectionrecohort">Running readmission function with
<code>restricted_cohort</code><a class="anchor" aria-label="anchor" href="#sectionrecohort"></a>
</h3>
<p>You can run the <code>readmission</code> function on a subset of the
DB providing an optional <code>restricted_cohort</code> input. There are
2 main reasons to restrict the cohort:</p>
<ol style="list-style-type: decimal">
<li>If the REB protocol for your research project does not cover all
encounters in the DB, or</li>
<li>If you only want to analyse readmissions to certain
hospitals/subservices due to a specific research question.</li>
</ol>
<p>In both cases, the <code>restricted_cohort</code> should be provided
as a <code>data.table</code> containing a <code>genc_id</code> column
with all relevant encounters. If you use <code>restricted_cohort</code>
due to REB considerations, the <code>restricted_cohort</code> should
include all <code>genc_ids</code> that are covered under the REB (see <a href="#sectionrecohort1"><em>Section 3.4.1</em></a> for details). By
contrast, if you want to filter the cohort due to a specific research
question, it is recommended to filter by episodes of care in order to
keep all linked transfers in the DB (see <a href="#sectionrecohort2"><em>Section 3.4.2</em></a> for details).</p>
<p><strong>Important:</strong> Running the <code>readmission</code>
function with <code>restricted_cohort</code> means that only the
encounters included in the restricted cohort will be used to derive
episodes of care and readmissions. All other encounters are excluded
from all computations.</p>
<p>A warning message will be shown when the
<code>restricted_cohort</code> argument is provided to notify the user
that all computations in the <code>readmission</code> function
(including the internal call to <code>episodes_of_care</code>) are
limited to the provided cohort. Please carefully consider if using a
<code>restricted_cohort</code> is appropriate/necessary in your case!
You can ignore the warning message if you are confident that a
<code>restricted_cohort</code> is required and you are sure you built
your <code>restricted_cohort</code> correctly (based on
<code>genc_ids</code> for REB scenarios vs. based on
<code>epicares</code> for other scenarios).</p>
<pre><code><span><span class="co">#&gt; Warning: Note: Based on the user input, epicares will be computed solely based</span></span>
<span><span class="co">#&gt; on the user specified cohort, instead of the default method. The default method</span></span>
<span><span class="co">#&gt; computes epicares based on all available data in GEMINI database and is</span></span>
<span><span class="co">#&gt; recommended.</span></span></code></pre>
<div class="section level4">
<h4 id="sectionrecohort1">Restricting the cohort due to REB protocol<a class="anchor" aria-label="anchor" href="#sectionrecohort1"></a>
</h4>
<p><strong>When to use:</strong></p>
<ul>
<li>When the REB protocol of your study does not cover all encounters in
the DB</li>
</ul>
<p><strong>How to use:</strong></p>
<ul>
<li>Provide a <code>restricted_cohort</code> argument that includes all
<code>genc_ids</code> covered by the REB</li>
</ul>
<p><strong>Example:</strong> The REB protocol of your research project
only covers GIM encounters from 5 hospitals. In this case, it is
important to ensure that only those encounters are included in the
<code>readmission</code> function, while all other encounters in the DB
should be ignored.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># note: users needs to define their own GIM_cohort table based on the criteria they want to use to define GIM encounters</span></span>
<span><span class="va">readm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readmission.html">readmission</a></span><span class="op">(</span><span class="va">db</span>, restricted_cohort <span class="op">=</span> <span class="va">GIM_cohort</span><span class="op">[</span><span class="va">hospital_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">101</span>,<span class="fl">102</span>,<span class="fl">103</span>,<span class="fl">104</span>,<span class="fl">105</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span> </span></code></pre></div>
<p>The resulting readmission rates will only include readmissions from
and to GIM services at the 5 hospitals that were included. Note that
those results may be less reliable than readmissions derived based on
the whole DB due to a loss of information about transfers to
hospitals/subservices that are not included in the
<code>restricted_cohort</code>. Specifically, the
<code>readmission</code> function internally calls the
<code>episodes_of_care</code> function, which inherits the same
<code>restricted_cohort</code> that was provided to the
<code>readmission</code> function. Therefore, any encounters that are
not part of the <code>restricted_cohort</code> are excluded from both
the reamdission calculations <em>and</em> the generation of episodes of
care.</p>
<p><strong>Note:</strong> If you only want to calculate episodes of care
(without calculating readmissions) for a cohort with REB restrictions,
you can also run the <code>episodes_of_care</code> function in isolation
and provide a <code>restricted_cohort</code> input to ensure your
analyses are compliant with the REB. For example, to derive episodes of
care for GIM encounters at 5 hospitals:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># note: users needs to define their own GIM_cohort table based on the criteria they want to use to define GIM encounters</span></span>
<span><span class="va">epicares</span> <span class="op">&lt;-</span> <span class="fu">identify_epicare</span><span class="op">(</span><span class="va">db</span>, restricted_cohort <span class="op">=</span> <span class="va">GIM_cohort</span><span class="op">[</span><span class="va">hospital_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">101</span>,<span class="fl">102</span>,<span class="fl">103</span>,<span class="fl">104</span>,<span class="fl">105</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span> </span></code></pre></div>
<p>If you are unsure about which encounters are covered by your
project’s REB protocol, please contact your manager!</p>
</div>
<div class="section level4">
<h4 id="sectionrecohort2">Restricting the cohort due to research question<a class="anchor" aria-label="anchor" href="#sectionrecohort2"></a>
</h4>
<p><strong>When to use:</strong></p>
<ul>
<li>To calculate readmissions <strong><em>to</em></strong> specific
hospitals/subservices (e.g., readmission to GIM only)</li>
<li>To include/exclude certain encounters from readmission calculation
due to research context (e.g., readmission with specific Dx)</li>
</ul>
<p><strong>How to use:</strong></p>
<p>To calculate readmission rates that only consider readmissions to
certain hospitals/subservices/encounters, you can run the readmission
function using a <code>restricted_cohort</code>. While restricting the
cohort due to REB considerations should be done by filtering strictly
based on <code>genc_id</code> (see above), restricting the cohort due to
specific research questions should be done based on episodes of care in
order to ensure that all linked transfers are considered in the
<code>readmission</code> calculations. Specifically, for all
hospitalizations of interest, all linked encounters of a given episode
of care should be included. Please carefully read the examples below to
gain a better understanding of how to create a
<code>restricted_cohort</code> for research purposes.</p>
<p><strong>Example 1:</strong> Calculating how frequently GIM patients
are <strong><em>readmitted to GIM services</em></strong>:</p>
<p>In order to analyze readmissions of GIM patients to GIM services, the
<code>restricted_cohort</code> should include <strong>all
encounters</strong> of all episodes of care that have at least one GIM
encounter. That is, even non-GIM encounters should be included as long
as they are associated with the same <code>epicare</code> as the GIM
encounters of interest. This ensures that all linked transfers are
included in the readmission calculation, which minimizes the chance of
encounters being inaccurately labelled as readmissions due to missing
transfer information.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Calculate epicares based on ALL encounters in DB (to ensure linked transfers are included)</span></span>
<span><span class="va">epicares</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/episodes_of_care.html">episodes_of_care</a></span><span class="op">(</span><span class="va">db</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Identify all epicares that have at least 1 GIM encounter </span></span>
<span><span class="co"># note: users needs to define their own GIM_cohort table based on the criteria they want to use to define GIM encounters</span></span>
<span><span class="va">GIM_epicares</span> <span class="op">&lt;-</span> <span class="va">epicares</span><span class="op">[</span><span class="va">genc_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">GIM_cohort</span><span class="op">$</span><span class="va">genc_id</span>, <span class="st">'epicare'</span><span class="op">]</span></span>
<span></span>
<span><span class="co">## Get all encounters associated with GIM epicares (keep all encounters of those epicares, even those without GIM to make sure all linked transfers are accounted for)</span></span>
<span><span class="va">GIM_epicares_all_enc</span> <span class="op">&lt;-</span> <span class="va">epicares</span><span class="op">[</span><span class="va">epicare</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">GIM_epicares</span><span class="op">$</span><span class="va">epicare</span>, <span class="st">'genc_id'</span><span class="op">]</span> </span>
<span></span>
<span><span class="co">## Calculate readmissions to GIM (considering all linked transfers in DB)</span></span>
<span><span class="va">GIM_readm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readmission.html">readmission</a></span><span class="op">(</span><span class="va">db</span>, restricted_cohort <span class="op">=</span> <span class="va">GIM_epicares_all_enc</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Get 7-day readmission rate of GIM patients to GIM </span></span>
<span><span class="co"># note: numerator/denominator are based on unique GIM epicares, not GIM encounters (i.e., there may be several GIM encounters associated with a single GIM epicare, but those are only counted once; readmission is attributed to the last encounter within each GIM epicare)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">GIM_readm</span><span class="op">$</span><span class="va">readmit7</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p>The resulting readmission rates indicate whether there was ANY GIM
readmission for a given GIM patient within a 7-/30-day time window.
Those readmissions are <strong>not</strong> necessarily the first
readmission after the index epicare! For example, a GIM patient may have
had a non-GIM readmission after the initial epicare, which is ignored in
the calculation above. Therefore, interpretations about the causes for
readmission should be done carefully as there may be intermediate
epicares which readmissions could have been attributed to but were not
considered due to the use of a <code>restricted_cohort</code>.</p>
<p><strong>Example 2:</strong> Calculating readmission rates of COVID
patients who are <strong><em>readmitted with a COVID
diagnosis</em></strong>. In this case, the
<code>restricted_cohort</code> should include all episodes of care that
have ANY encounter with a COVID diagnosis. As in example 1, all linked
encounters (even those without COVID diagnosis) should be included to
make sure that all available transfer information is used in the
readmission calculations.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Get all encounters with COVID diagnosis</span></span>
<span><span class="va">COVID_enc</span> <span class="op">&lt;-</span> <span class="va">ipdiagnosis</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">'^U07'</span>,<span class="va">diagnosis_code</span><span class="op">)</span>,<span class="st">'genc_id'</span><span class="op">]</span></span>
<span></span>
<span><span class="co">## Calculate epicares based on ALL encounters in DB (to ensure linked transfers are included)</span></span>
<span><span class="va">epicares</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/episodes_of_care.html">episodes_of_care</a></span><span class="op">(</span><span class="va">db</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Identify all epicares that have at least 1 COVID encounter </span></span>
<span><span class="va">COVID_epicares</span> <span class="op">&lt;-</span> <span class="va">epicares</span><span class="op">[</span><span class="va">genc_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">COVID_enc</span><span class="op">$</span><span class="va">genc_id</span>, <span class="st">'epicare'</span><span class="op">]</span></span>
<span></span>
<span><span class="co">## Get all encounters associated with COVID epicares (keep all encounters of those epicares, even those without COVID diagnosis to make sure all linked transfers are accounted for)</span></span>
<span><span class="va">COVID_epicares_all_enc</span> <span class="op">&lt;-</span> <span class="va">epicares</span><span class="op">[</span><span class="va">epicare</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">COVID_epicares</span><span class="op">$</span><span class="va">epicare</span>, <span class="st">'genc_id'</span><span class="op">]</span> </span>
<span></span>
<span><span class="co">## Calculate readmissions with COVID diagnosis (considering all linked transfers in DB)</span></span>
<span><span class="va">COVID_readm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readmission.html">readmission</a></span><span class="op">(</span><span class="va">db</span>, restricted_cohort <span class="op">=</span> <span class="va">COVID_epicares_all_enc</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Get 30-day readmission rate of COVID patients, only counting readmissions that also have a COVID diagnosis </span></span>
<span><span class="co"># note: numerator/denominator are based on unique COVID epicares, not COVID encounters (i.e., there may be several COVID encounters associated with a single epicare, but those are only counted once; readmission is attributed to the last encounter within each COVID epicare)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">COVID_readm</span><span class="op">$</span><span class="va">readmit30</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p>The resulting readmission rates indicate whether patients with COVID
had ANY readmission with a COVID diagnosis within a 7-/30-day time
window. Those readmissions are <strong>not</strong> necessarily the
first readmission after the index epicare with COVID diagnosis! That is,
there may have been intermediate, non-COVID epicares, that were ignored
in the readmission calculations.</p>
<p><strong>Note:</strong> In the examples above, only the
<strong><em>highlighted italic parts of each sentence</em></strong>
(which specify where patients are readmitted to) necessitate using
<code>restricted_cohort</code>. If you only want to filter your cohort
according to where patients are readmitted <strong>from</strong>, you
should <strong>NOT</strong> use the <code>restricted_cohort</code>
argument. Instead, simply query the derived variables for your cohort of
interest (see example in <a href="#sectionderived"><em>Section
3.1</em></a>) to make sure you are including readmissions to all
hospitals/medical subservices.</p>
<p><strong>Other special scenarios:</strong></p>
<p>There may be more complex scenarios where the inclusion criteria for
index admissions (“readmission from”) are different from the inclusion
criteria for readmission encounters (“readmission to”). For example, you
might want to analyze readmission rates of surgery patients who are
readmitted to GIM. In this case, your <code>restricted_cohort</code>
should include all epicares that meet the criteria for index admissions
plus any epicares that meet the criteria for readmissions. You will need
to use several steps to create your <code>restricted_cohort</code>:</p>
<ol style="list-style-type: decimal">
<li>Select <strong>all encounters</strong> of episodes of care that meet
the criteria for index admissions: In the example scenario, include all
encounters of epicares that have at least one surgery encounter. If you
only want to consider readmissions to GIM, only include a single surgery
episode of care per patient in order to avoid that subsequent surgeries
are counted as readmissions.</li>
<li>Select <strong>all encounters</strong> of episodes of care that meet
the criteria for readmissions: In this example, to qualify as a GIM
readmission, include all encounters of epicares that a) occurred after
the index surgery admission and b) had at least one GIM encounter. Note:
the implication of this step is that any intermediate non-GIM epicares
are ignored.</li>
<li>Combine all encounters from step 1 &amp; 2 to create the
<code>restricted_cohort</code> of interest.</li>
<li>Run the readmission function with
<code>restricted_cohort</code>.</li>
<li>Calculate readmission rates: Filter the output of the
<code>readmission</code> function based on your index admissions (cohort
created in step 1) in order to get readmission rates of surgery patients
to GIM. This step is important to avoid that any admissions following
GIM epicares (e.g., GIM to GIM readmissions or GIM to surgery
readmissions) are included in the readmission rates.</li>
</ol>
<p>These steps are meant as a general guideline, but you may need to
consider additional aspects for a given research project. Please make
sure you carefully consider the implications of the decisions you make
when building your <code>restricted_cohort</code>. You will also need to
consider if any additional REB restrictions apply, in which case the
<code>restricted_cohort</code> should be filtered based on REB
considerations first before applying any additional inclusion steps.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by GEMINIdata.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
